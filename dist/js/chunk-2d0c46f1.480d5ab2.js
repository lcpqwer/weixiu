(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c46f1"],{"3b8d":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Button",{attrs:{type:"info"},on:{click:t.add}},[t._v("新增")]),e("Table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.columns1,data:t.data1}}),e("Modal",{attrs:{title:"新增",loading:t.loading},on:{"on-ok":function(a){t.ok3("formAdd")},"on-cancel":t.cancel3},model:{value:t.modal3,callback:function(a){t.modal3=a},expression:"modal3"}},[e("Form",{ref:"formAdd",attrs:{model:t.formAdd,"label-width":80,rules:t.ruleValidate}},[e("FormItem",{attrs:{label:"天数",prop:"time"}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"",maxlength:16},model:{value:t.formAdd.time,callback:function(a){t.$set(t.formAdd,"time",a)},expression:"formAdd.time"}})],1)],1)],1),e("Modal",{attrs:{title:"修改信息",loading:t.loading1},on:{"on-ok":function(a){t.ok("formItem")},"on-cancel":t.cancel},model:{value:t.modal1,callback:function(a){t.modal1=a},expression:"modal1"}},[e("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":80,rules:t.ruleValidate2}},[e("FormItem",{attrs:{label:"天数",prop:"time"}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"",maxlength:16},model:{value:t.formItem.time,callback:function(a){t.$set(t.formItem,"time",a)},expression:"formItem.time"}})],1)],1)],1),e("div",{staticStyle:{"text-align":"right"}},[e("Page",{staticClass:"paging",attrs:{total:t.dataCount,"page-size":t.pageSize,"show-total":""},on:{"on-change":t.changepage}})],1)],1)},i=[],n={data:function(){var t=this;return{ruleValidate:{time:[{required:!0,message:"不能为空",trigger:"blur"}]},ruleValidate2:{time:[{required:!0,message:"不能为空",trigger:"blur"}]},main:"",formAdd:{time:"",jwt:localStorage.getItem("jwt")},formItem:{id:"",time:"",jwt:localStorage.getItem("jwt")},modal1:!1,modal2:!1,modal3:!1,loading:!0,loading1:!0,ajaxHistoryData:[],dataCount:0,pageSize:10,page:1,columns1:[{title:"保修天数",key:"time"},{title:"操作",key:"action",align:"center",render:function(a,e){return a("div",[a("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px",marginBottom:"5px"},on:{click:function(){t.xiugai(e.row)}}},"修改"),a("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px",marginBottom:"5px"},attrs:{style:"background-color:#d6514d;border:1px solid #d6514d"},on:{click:function(){t.delete(e.row)}}},"删除")])}}],data1:[]}},created:function(){this.tableShow()},methods:{tableShow:function(){var t=this;this.$axios({method:"post",url:"admin/Warrantytime/show",data:this.$qs.stringify({jwt:localStorage.getItem("jwt")})}).then(function(a){t.ajaxHistoryData=a.data.table,t.dataCount=a.data.table.length,a.data.table.length<t.pageSize?t.data1=a.data.table:t.data1=t.ajaxHistoryData.slice(0,t.pageSize)}).catch(function(a){t.$Message.error("请求超时,请稍后再试...")})},handSeek:function(){this.tableShow()},add:function(){this.modal3=!0},ok3:function(t){var a=this;this.$refs[t].validate(function(t){t?(a.$axios({method:"post",url:"admin/Warrantytime/insert",data:a.$qs.stringify({time:a.formAdd.time,jwt:localStorage.getItem("jwt")})}).then(function(t){a.tableShow(),a.modal3=!1,a.formAdd={}}).catch(function(t){a.$Message.error("请求超时,请稍后再试...")}),callback()):(a.loading=!1,a.$nextTick(function(){a.loading=!0}),a.$Message.error("新增失败，请填写完整的信息!"))}),this.tableShow(),this.formAdd={}},cancel3:function(){this.tableShow(),this.formAdd={}},xiugai:function(t){this.modal1=!0,this.formItem.Id=t.Id,this.formItem.time=t.time},ok:function(t){var a=this;this.$refs[t].validate(function(t){t?(a.$axios({method:"post",url:"admin/Warrantytime/upd",data:a.$qs.stringify({Id:a.formItem.Id,time:a.formItem.time,jwt:localStorage.getItem("jwt")})}).then(function(t){a.modal1=!1,a.tableShow()}).catch(function(t){a.$Message.error("请求超时,请稍后再试...")}),callback()):(a.loading=!1,a.$nextTick(function(){a.loading=!0}),a.$Message.error("修改失败,请正确填写信息!"))}),this.tableShow()},cancel:function(){this.modal3=!1},delete:function(t){var a=this;this.$Modal.confirm({title:"删除",content:"确认删除该条信息吗？",onOk:function(){a.$axios({method:"post",url:"admin/Warrantytime/delete",data:a.$qs.stringify({Id:t.Id,jwt:localStorage.getItem("jwt")})}).then(function(t){a.tableShow()}).catch(function(t){a.$Message.error("请求超时,请稍后再试...")})},onCancel:function(){a.$Message.info("取消")}})},changepage:function(t){var a=(t-1)*this.pageSize,e=t*this.pageSize;this.data1=this.ajaxHistoryData.slice(a,e)}}},l=n,r=e("2877"),d=Object(r["a"])(l,o,i,!1,null,"d6942ace",null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0c46f1.480d5ab2.js.map