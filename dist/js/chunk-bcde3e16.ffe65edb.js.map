{"version":3,"sources":["webpack:///./src/view/map/mapPage.vue?e1a4","webpack:///src/view/map/mapPage.vue","webpack:///./src/view/map/mapPage.vue?ff09","webpack:///./src/view/map/mapPage.vue","webpack:///./src/view/map/mapPage.vue?a7f6"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","attrs","id","mapPagevue_type_script_lang_js_","data","_this","zoom","center","mapArry","Wposition","mapArrylength","a","Wcontent","modal4","mapindex","position","currentWindow","content","events","click","b","c","target","Uh","vid","console","log","infos","close","created","tableShow","methods","_this2","$axios","method","url","$qs","stringify","jwt","localStorage","getItem","then","res","table","i","length","push","JSON","parse","catch","mounted","map","AMap","Map","resizeEnable","lnglats","j","infoWindow","InfoWindow","offset","Pixel","marker","Marker","setItem","Id","customername","userphone","orderadress","username","on","markerClick","emit","e","setContent","open","getPosition","setFitView","setZoom","setZoomAndCenter","map_mapPagevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mapPage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mapPage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-bcde3e16.ffe65edb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"container\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div id=\"container\">\n      <!--<el-amap vid=\"amapDemo\" class=\"amap\" :zoom=\"zoom\">-->\n        <!--&lt;!&ndash;:title=\"item.orderadress\"&ndash;&gt;-->\n        <!--<el-amap-marker v-for=\"(item,index) in mapArry\" :position=\"item.position\" :events=\"currentWindow.events\" :vid=\"index\">-->\n        <!--&lt;!&ndash;<el-amap-marker :position=\"position\" :events=\"currentWindow.events\" :vid=\"mapArrylength\">&ndash;&gt;-->\n\n        <!--</el-amap-marker>-->\n        <!--<el-amap-info-window-->\n          <!--:position=\"Wposition\"-->\n          <!--:content=\"Wcontent\"-->\n          <!--:visible=\"modal4[mapindex]\"-->\n          <!--:events=\"infos.events\">-->\n        <!--</el-amap-info-window>-->\n        <!--&lt;!&ndash;\"content.orderadress\"&ndash;&gt;-->\n      <!--</el-amap>-->\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    // components: { VDistpicker },\n    data () {\n      return {\n        zoom:14,\n        center:[121.6292529148,31.2035397816],\n        mapArry:[],\n        Wposition:[121.91949, 30.88303],\n        mapArrylength:'',\n        a:'',\n        Wcontent:'123',\n        modal4:[],\n        mapindex:0,\n        position:[],\n        currentWindow: {\n          position: [121.6292529148,31.2035397816],\n          content: '浦东新区',\n          events: {\n            click: (a,b,c) => {\n              // console.log(a.target.Uh.vid)\n              this.mapindex = a.target.Uh.vid\n              this.modal4[this.mapindex] = !this.modal4[this.mapindex]\n\n              console.log(this.modal4[this.mapindex])\n              console.log( this.mapindex )\n              // this.$router.push({\n              //   path:'/o_management',\n              //   query:{\n              //     Id:this.mapArry[a.target.Uh.vid].Id\n              //   }\n              // })\n            },\n          },\n        },\n        infos: {\n          events: {\n            // open () {\n            //   this.modal4[this.mapindex] = !this.modal4[this.mapindex]\n            //   console.log('true1')\n            //   console.log('11111111')\n            // },\n            close() {\n              this.modal4[this.mapindex] = false\n              console.log(this.modal4[this.mapindex],'信息窗体')\n              console.log(this.mapindex)\n            }\n          }\n        },\n      }\n    },\n    created() {\n      this.tableShow()\n      // this.mounted()\n    },\n    methods: {\n      // manage(){\n      //   this.modal4[this.mapindex] = !this.modal4[this.mapindex]\n      //   console.log(\"信息窗体\"+this.modal4[this.mapindex])\n      // },\n      //用户信息展示\n      tableShow(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/marker',\n          data: this.$qs.stringify({\n            // time:this.model13,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table)\n          this.mapArry = res.data.table\n          // var i = res.data.table.length\n          for(var i = 0; i < res.data.table.length;i ++){\n            this.modal4.push(JSON.parse('false'))\n          }\n        }).catch(res => {\n          // this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      // tiaozhuan(){\n      //   this.$router.push({\n      //     path:'/o_management',\n      //     query:{\n      //       Id:res.data.table[i].Id\n      //     }\n      //   })\n      // }\n    },\n    mounted(){\n      // console.log('1112223')\n      // console.log(location.search,'123')\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/marker',\n        data: this.$qs.stringify({\n          // time:this.model13,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table)\n        var map = new AMap.Map(\"container\", {\n          resizeEnable: true,\n          // zoom: 16,\n          // center:new AMap.LngLat(121.6292529148,31.2035397816)\n        });\n\n        var lnglats = [];\n        for (var j = 0; j < res.data.table.length; j++){\n          lnglats[j] = res.data.table[j].position\n        }\n        // console.log(lnglats,'总坐标点')\n        var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -20)});\n        // console.log(lnglats,'irutjreklgjdf')\n        for (var i = 0, marker; i < res.data.table.length; i++) {\n          var marker = new AMap.Marker({\n            position: lnglats[i],\n            map: map\n          });\n\n          localStorage.setItem('Id', res.data.table[i].Id)\n\n          marker.content = '<strong>客户名称:</strong>' + res.data.table[i].customername + '<br>' +\n                            '<strong>客户手机号：</strong>' + res.data.table[i].userphone + '<br>' +\n                            '<strong>地址：</strong>' + res.data.table[i].orderadress + '<br>' +\n                            '<strong>达人名称：</strong>' + res.data.table[i].username + '<br>' +\n                            '<a href=\"http://www.maintance.pro/admin/#/o_management?Id='+\n                            res.data.table[i].Id+\n                            '\">查看详情</a>' ;\n\n          marker.on('click', markerClick);\n          marker.emit('click', {target: marker});\n        }\n\n        function markerClick(e) {\n          infoWindow.setContent(e.target.content);\n          infoWindow.open(map, e.target.getPosition());\n        }\n        map.setFitView();\n        map.setZoom(10);\n        map.setZoomAndCenter(12, [121.6292529148, 31.2035397816]);\n        // map.setCenter(121.6292529148,31.2035397816)\n        // console.log(window.location.href.split(\"?\")[1].split(\"=\")[1],'a参数')\n      }).catch(res => {\n        // this.$Message.error('请求超时,请稍后再试...');\n      });\n\n    }\n  }\n</script>\n\n<style>\n  #container {\n    width: 100%;\n    height: 600px;\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mapPage.vue?vue&type=template&id=300ef714&\"\nimport script from \"./mapPage.vue?vue&type=script&lang=js&\"\nexport * from \"./mapPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mapPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapPage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mapPage.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}