{"version":3,"sources":["webpack:///./src/view/weixiu/weixiupage.vue?faea","webpack:///src/view/weixiu/weixiupage.vue","webpack:///./src/view/weixiu/weixiupage.vue?949d","webpack:///./src/view/weixiu/weixiupage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","type","on","click","add","_v","staticStyle","margin-top","columns","columns1","data","data1","title","loading","on-ok","$event","ok3","on-cancel","cancel3","model","value","callback","$$v","modal3","expression","ref","formAdd","label-width","rules","ruleValidate","label","prop","width","placeholder","maxlength","$set","loading1","ok","cancel","modal1","formItem","ruleValidate2","text-align","staticClass","total","dataCount","page-size","pageSize","show-total","on-change","changepage","staticRenderFns","weixiupagevue_type_script_lang_js_","_this","time","required","message","trigger","main","jwt","localStorage","getItem","id","modal2","ajaxHistoryData","page","key","align","h","params","props","size","style","marginRight","marginBottom","xiugai","row","delete","created","tableShow","methods","_this2","$axios","method","url","$qs","stringify","then","res","table","length","slice","catch","$Message","error","handSeek","_this3","$refs","validate","valid","$nextTick","Id","_this4","_this5","$Modal","confirm","content","onOk","onCancel","info","index","_start","_end","weixiu_weixiupagevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0c46f1.480d5ab2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_c('Table',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"columns\":_vm.columns1,\"data\":_vm.data1}}),_c('Modal',{attrs:{\"title\":\"新增\",\"loading\":_vm.loading},on:{\"on-ok\":function($event){_vm.ok3('formAdd')},\"on-cancel\":_vm.cancel3},model:{value:(_vm.modal3),callback:function ($$v) {_vm.modal3=$$v},expression:\"modal3\"}},[_c('Form',{ref:\"formAdd\",attrs:{\"model\":_vm.formAdd,\"label-width\":80,\"rules\":_vm.ruleValidate}},[_c('FormItem',{attrs:{\"label\":\"天数\",\"prop\":\"time\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"\",\"maxlength\":16},model:{value:(_vm.formAdd.time),callback:function ($$v) {_vm.$set(_vm.formAdd, \"time\", $$v)},expression:\"formAdd.time\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"修改信息\",\"loading\":_vm.loading1},on:{\"on-ok\":function($event){_vm.ok('formItem')},\"on-cancel\":_vm.cancel},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('Form',{ref:\"formItem\",attrs:{\"model\":_vm.formItem,\"label-width\":80,\"rules\":_vm.ruleValidate2}},[_c('FormItem',{attrs:{\"label\":\"天数\",\"prop\":\"time\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"\",\"maxlength\":16},model:{value:(_vm.formItem.time),callback:function ($$v) {_vm.$set(_vm.formItem, \"time\", $$v)},expression:\"formItem.time\"}})],1)],1)],1),_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('Page',{staticClass:\"paging\",attrs:{\"total\":_vm.dataCount,\"page-size\":_vm.pageSize,\"show-total\":\"\"},on:{\"on-change\":_vm.changepage}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Button type=\"info\" @click=\"add\">新增</Button>\n    <!--搜索-->\n    <Table :columns=\"columns1\" :data=\"data1\" style=\"margin-top: 10px\"></Table>\n    <!--新增-->\n    <Modal\n      v-model=\"modal3\"\n      title=\"新增\"\n      @on-ok=\"ok3('formAdd')\"\n      @on-cancel=\"cancel3\"\n      :loading=\"loading\">\n      <Form :model=\"formAdd\" :label-width=\"80\" :rules=\"ruleValidate\" ref=\"formAdd\">\n        <FormItem label=\"天数\" prop=\"time\">\n          <Input v-model=\"formAdd.time\" placeholder=\"\" :maxlength='16' style=\"width:200px\"></Input>\n        </FormItem>\n      </Form>\n    </Modal>\n    <!--//修改弹框-->\n    <!--<Button type=\"primary\" @click=\"modal1 = true\">修改</Button>-->\n    <Modal\n      v-model=\"modal1\"\n      title=\"修改信息\"\n      @on-ok=\"ok('formItem')\"\n      @on-cancel=\"cancel\"\n      :loading=\"loading1\">\n      <Form :model=\"formItem\" :label-width=\"80\" :rules=\"ruleValidate2\" ref=\"formItem\">\n        <FormItem label=\"天数\" prop=\"time\">\n          <Input v-model=\"formItem.time\" placeholder=\"\" :maxlength='16' style=\"width:200px\"></Input>\n        </FormItem>\n      </Form>\n    </Modal>\n    <!--//分页-->\n    <div style=\"text-align: right\">\n      <Page :total=\"dataCount\" :page-size=\"pageSize\" show-total class=\"paging\" @on-change=\"changepage\"></Page>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        ruleValidate: {\n          time: [\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ]\n        },\n        ruleValidate2: {\n          time: [\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ]\n        },\n        main:'',\n        formAdd:{\n          time:'',\n          jwt:localStorage.getItem('jwt')\n        },\n        formItem:{\n          id:'',\n          time: '',\n          jwt:localStorage.getItem('jwt')\n        },\n        modal1: false,\n        modal2: false,\n        modal3:false,\n        loading: true,\n        loading1: true,\n        //    分页\n        ajaxHistoryData: [],\n        // 初始化信息总条数\n        dataCount: 0,\n        // 每页显示多少条\n        pageSize: 10,\n        page:1,\n        columns1: [\n          {\n            title: '保修天数',\n            key: 'time',\n            // width: 300\n          },\n          {\n            title: '操作',\n            key: 'action',\n            align: 'center',\n            render: (h, params) => {\n              return h('div', [\n                h('Button', {\n                  props: {\n                    type: 'info',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                    marginBottom: '5px'\n                  },\n                  on: {\n                    click: () => {\n                      this.xiugai(params.row);\n                    }\n                  }\n                }, '修改'),\n                h('Button', {\n                  props: {\n                    type: 'info',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                    marginBottom: '5px'\n                  },\n                  attrs: {\n                    style: 'background-color:#d6514d;border:1px solid #d6514d'\n                  },\n                  on: {\n                    click: () => {\n                      this.delete(params.row);\n                    }\n                  }\n                }, '删除')\n              ]);\n            }\n          }\n        ],\n        data1: []\n      }\n    },\n    created() {\n      // console.log(localStorage.getItem('jwt'))\n      this.tableShow()\n    },\n    methods: {\n      //用户信息展示\n      tableShow(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/Warrantytime/show',\n          data: this.$qs.stringify({\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n          this.ajaxHistoryData = res.data.table;\n          this.dataCount = res.data.table.length;\n          // this.dataCount = res.data.count;\n          // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n          if (res.data.table.length < this.pageSize) {\n            // this.historyData = this.ajaxHistoryData;\n            this.data1 = res.data.table\n          } else {\n            this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //搜索\n      handSeek(){\n        this.tableShow()\n      },\n      //新增\n      add(){\n        this.modal3=true\n      },\n      ok3 (formAdd) {\n        // console.log(this.$nextTick,'验证')\n        this.$refs[formAdd].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              method: 'post',\n              url: 'admin/Warrantytime/insert',\n              data: this.$qs.stringify({\n                time:this.formAdd.time,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'用户增加')\n              this.tableShow()\n              this.modal3 = false\n              this.formAdd = {}\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            callback();\n          } else{\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n            this.$Message.error('新增失败，请填写完整的信息!');\n          }\n        })\n        this.tableShow()\n        this.formAdd = {}\n      },\n      cancel3 () {\n        this.tableShow()\n        this.formAdd = {}\n        // this.$Message.info('Clicked cancel');\n      },\n      //用户修改\n      xiugai(row){\n        // console.log(row)\n        this.modal1=true\n        this.formItem.Id=row.Id\n        this.formItem.time=row.time\n      },\n      ok (formItem) {\n        this.$refs[formItem].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              method: 'post',\n              url: 'admin/Warrantytime/upd',\n              data: this.$qs.stringify({\n                Id:this.formItem.Id,\n                time: this.formItem.time,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'用户修改')\n              this.modal1=false\n              this.tableShow()\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            callback();\n          } else{\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n            this.$Message.error('修改失败,请正确填写信息!');\n          }\n        })\n        this.tableShow()\n      },\n      cancel () {\n        this.modal3=false\n        // this.$Message.info('Clicked cancel');\n      },\n      //删除\n      delete(row){\n        // console.log(row)\n        this.$Modal.confirm({\n          title: '删除',\n          content: '确认删除该条信息吗？',\n          onOk: () => {\n            this.$axios({\n              method: 'post',\n              url: 'admin/Warrantytime/delete',\n              data: this.$qs.stringify({\n                Id: row.Id,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              this.tableShow()\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n          },\n          onCancel: () => {\n            this.$Message.info('取消');\n          }\n        });\n      },\n      //分页\n      changepage (index) {\n        var _start = (index - 1) * this.pageSize;\n        var _end = index * this.pageSize;\n        this.data1 = this.ajaxHistoryData.slice(_start, _end);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./weixiupage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./weixiupage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./weixiupage.vue?vue&type=template&id=d6942ace&scoped=true&\"\nimport script from \"./weixiupage.vue?vue&type=script&lang=js&\"\nexport * from \"./weixiupage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6942ace\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}