{"remainingRequest":"/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/szt/Desktop/iview-admin/src/view/login/login.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/szt/Desktop/iview-admin/src/view/login/login.vue","mtime":1561524641000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/less-loader/dist/cjs.js","mtime":1539597329000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n@import './login.less';\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";AACA","file":"login.vue","sourceRoot":"src/view/login","sourcesContent":["<style lang=\"less\">\n  @import './login.less';\n</style>\n\n<template>\n  <div class=\"login\" @keydown.enter=\"handleSubmit\">\n    <div class=\"login-con\">\n      <Card :bordered=\"false\">\n        <p slot=\"title\">\n          <Icon type=\"log-in\"></Icon>\n          欢迎登录\n        </p>\n        <div class=\"form-con\">\n          <Form ref=\"loginForm\" :model=\"form\" :rules=\"rules\">\n            <FormItem prop=\"userName\">\n              <Input v-model=\"form.userName\" placeholder=\"请输入用户名\">\n              <span slot=\"prepend\">\n                <Icon :size=\"16\" type=\"person\"></Icon>\n              </span>\n              </Input>\n            </FormItem>\n            <FormItem prop=\"password\">\n              <Input type=\"password\" v-model=\"form.password\" placeholder=\"请输入密码\">\n              <span slot=\"prepend\">\n                <Icon :size=\"14\" type=\"locked\"></Icon>\n              </span>\n              </Input>\n            </FormItem>\n            <FormItem>\n              <Button @click=\"handleSubmit\" type=\"primary\" long>登录</Button>\n            </FormItem>\n          </Form>\n          <!--<p class=\"login-tip\">输入任意用户名和密码即可</p>-->\n        </div>\n      </Card>\n    </div>\n  </div>\n</template>\n\n<script>\n  // import Cookies from 'js-cookie';\n  export default {\n    data () {\n      return {\n        form: {\n          userName: '',\n          password: ''\n        },\n        rules: {\n          userName: [\n            { required: true, message: '账号不能为空', trigger: 'blur' }\n          ],\n          password: [\n            { required: true, message: '密码不能为空', trigger: 'blur' }\n          ]\n        }\n      };\n    },\n    methods: {\n      handleSubmit () {\n        console.log('点击')\n        this.$axios({\n          method: 'post',\n          url: 'index/index/checkLogin',\n          data: this.$qs.stringify({\n            username: this.form.userName,\n            password: this.form.password\n          })\n        }).then(res => {\n          console.log(res,'000')\n          if(res.data.code === 200){\n            this.$cookie.set('username', this.form.userName);\n            this.$cookie.set('password', this.form.password);\n            if (this.form.userName === 'iview_admin') {\n              Cookies.set('access', 0);\n            } else {\n              Cookies.set('access', 1);\n            }\n            this.$router.push({\n              name: 'p_management'\n            });\n            // location.href = '/p_management'\n            // this.$router.push({\n            //   name: this.$config.homeName\n            // });\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>\n"]}]}