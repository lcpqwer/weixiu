{"remainingRequest":"/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/szt/Desktop/iview-admin/src/view/orderManagemnet/o_management.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/szt/Desktop/iview-admin/src/view/orderManagemnet/o_management.vue","mtime":1566969825000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport tableDetail from './tableDetail.vue'\nexport default {\n  components: { tableDetail },\n  data () {\n    const validatePhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('手机号不能为空'));\n      } else if (!/^1[34578]\\d{9}$/.test(value)) {\n        callback('手机号格式不正确');\n      } else {\n        callback();\n      }\n    };\n    const validatePass = (rule, value, callback) => {\n      // 此时便能打印value值查看\n      // console.log(value,'打印值')\n    };\n    return {\n      readon:true,\n      pdffref:'',\n      maptu:false,\n      maptu1:false,\n      img1:{\n        image:[],\n        jwt:localStorage.getItem('jwt')\n      },\n      // img2:{\n      //   image:[],\n      //   jwt:localStorage.getItem('jwt')\n      // },\n      xiutable:[],\n      url1:[],\n      adddate:'',\n      adddate1:'',\n      addtime:'',\n      state:'',\n      state4:'',\n      type4:'',\n      type:'',\n      timeArry:[],\n      payid:'',\n      typeid:[\n        {\n          value: '1',\n          label: '上门'\n        },\n        {\n          value: '2',\n          label: '到店'\n        },\n        {\n          value: '3',\n          label: '售后'\n        }\n      ],\n      stateid:[\n        {\n          value: '1',\n          label: '未开始'\n        },\n        {\n          value: '2',\n          label: '进行'\n        },\n        {\n          value: '3',\n          label: '结束'\n        },\n        {\n          value: '4',\n          label: '疑难'\n        },\n        {\n          value: '5',\n          label: '正在上门'\n        }\n      ],\n      pay:[],\n      paystate:[\n        {\n          value: '1',\n          label: '已支付'\n        },\n        {\n          value: '2',\n          label: '未支付'\n        }\n      ],\n      model15: '',\n      model16: '',\n      loading15: false,\n      loading5: false,\n      loading6: false,\n      loading7: false,\n      loading16: false,\n      loading17: false,\n      model13: '',\n      model14: [],\n      modelItem14: [],\n      loading3: false,\n      loading2: false,\n      loadingItem2: false,\n      options2: [],\n      list: [],\n      list1:[],\n      list5:[],\n      list6:[],\n      list7:[],\n      list15:[],\n      list16:[],\n      list17:[],\n      list18:[],\n      file:'',\n      href:'',\n      csvArry:'',\n      ruleValidate: {\n        userphone: [\n          // { required: true, message: '不能为空', trigger: 'blur' },\n          {type: 'number',required:true,validator:validatePhone,message:'请输入正确的手机号',trigger:'change'}\n        ],\n        // uid: [\n        //   { required: true, message: '不能为空', trigger: 'blur' },\n        // ],\n        // address: [\n        //   { required: true, message: '不能为空', trigger: 'blur' },\n        // ],\n        programme: [\n          { required: true, message: '不能为空', trigger: 'blur' },\n        ],\n        specific: [\n          { required: true, message: '不能为空', trigger: 'blur' },\n        ]\n      },\n      ruleValidate2: {\n        name: [\n          { required: true, message: '不能为空', trigger: 'blur' }\n        ],\n        phone: [\n          // { required: true, message: '不能为空', trigger: 'blur' },\n          {type: 'number',required:true,validator:validatePhone,message:'请输入正确的手机号',trigger:'change'}\n        ],\n        grade: [\n          { required: true, message: '不能为空', trigger: 'blur' }\n        ],\n        arrangement:[\n          { required: true, message: '不能为空', trigger: 'blur' }\n        ],\n        total: [\n          { required: true, message: '不能为空', trigger: 'blur' },\n        ],\n        quota: [\n          { required: true, message: '不能为空', trigger: 'blur' },\n        ],\n        pass: [\n          { required: true, message: '不能为空', trigger: 'blur' },\n        ],\n        provinceid: [\n          { required: true, message: '不能为空', trigger: 'blur' },\n        ],\n        cityid: [\n          { required: true, message: '不能为空', trigger: 'blur' },\n        ],\n        areaid: [\n          { required: true, message: '不能为空', trigger: 'blur' },\n        ]\n      },\n      searchName:'',\n      searchNum:'',\n      searchPhone:'',\n      cityList:[],\n      cityList1:[],\n      cityList2:[],\n      cityListId:'',\n      cityListId1:'',\n      cityListId2:'',\n      shengName:'',\n      shiName:'',\n      quName:'',\n      lei:[],\n      pinpai:[],\n      jixing:[],\n      shebei:[],\n      guzhangtable:[],\n      colortable:[],\n      // Nlei:'',\n      // Npinpai:'',\n      // Njixing:'',\n      equipment:'',\n      equipmentId:'',\n      equipmentId6:'',\n      gusesion:'',\n      colorsesion:'',\n      colorId:'',\n      gusesionId:'',\n      formAdd:{\n        uid:'',\n        cid:'',\n        amount:'',\n        couponId:'',\n        specific:'',\n        programme:'',\n        province:'',\n        city:'',\n        area:'',\n        address:'',\n        customer_service:'',\n        state:'',\n        appointment_time:'',\n        eid:'',\n        color1:'',\n        userphone:'',\n        paytypeItem:'',\n        customer_img:[],\n        type:'',\n        payid:'',\n        paystate:'',\n        roadfare:'',\n        thirdnumber:'',\n        warrantytime:'',\n        associated_orders:[],\n        jwt:localStorage.getItem('jwt')\n      },\n      formItem:{\n        Id:'',\n        uid:'',\n        cid:'',\n        couponId:'',\n        amount:'',\n        hitch:'',\n        paytypeItem:'',\n        programme:'',\n        province:'',\n        city:'',\n        area:'',\n        address:'',\n        customer_service:'',\n        state:'',\n        appointment_time:'',\n        jixing:'',\n        pinpai:'',\n        jixing1:'',\n        eid:'',\n        color1:'',\n        userphone:'',\n        customer_img:[],\n        type:'',\n        payid:'',\n        paystate:'',\n        roadfare:'',\n        thirdnumber:'',\n        warrantytime:'',\n        associated_orders:[],\n        jwt:localStorage.getItem('jwt')\n      },\n      formImg:{\n        Id:\"\",\n        img:null,\n        jwt:localStorage.getItem('jwt')\n      },\n      modal1: false,\n      modal2: false,\n      modal3:false,\n      modalMap:false,\n      modal4:true,\n      modal41:false,\n      modal412:true,\n      zoom:14,\n      zoom1:14,\n      center:[121.6292529148,31.2035397816],\n      center0:[121.6292529148,31.2035397816],\n      center1:[121.6292529148,31.2035397816],\n      center2:[114.30 ,30.57],\n      center3:[114.30 ,30.57],\n      // center:[],\n      content:'',\n      content1:'',\n      content2:'',\n      markers: [\n        {\n          events: {\n            click: () => {\n              this.modal4 = !this.modal4\n              //此处点击是有bug\n              // console.log('true电磁辐射的采访时说')\n            }\n          }\n        }\n      ],\n      markers1: [\n        {\n          events: {\n            click: () => {\n              this.modal41 = !this.modal41\n              //此处点击是有bug\n              // console.log('true')\n            }\n          }\n        }\n      ],\n      markers2: [\n        {\n          events: {\n            click: () => {\n              this.modal412 = !this.modal412\n              //此处点击是有bug\n              // console.log('true')\n            }\n          }\n        }\n      ],\n      infos: [\n        {\n          events: {\n            // open () {\n            //   this.modal4 = true\n            //   console.log('true1')\n            // },\n            close() {\n              this.modal4 = false\n              // console.log('false是的撒所多')\n            }\n          }\n        }\n      ],\n      infos1: [\n        {\n          events: {\n            // open () {\n            //   this.modal4 = true\n            //   console.log('true1')\n            // },\n            close() {\n              this.modal41 = false\n              // console.log('false')\n            }\n          }\n        }\n      ],\n      infos2: [\n        {\n          events: {\n            // open () {\n            //   this.modal4 = true\n            //   console.log('true1')\n            // },\n            close() {\n              this.modal412 = false\n              // console.log('false')\n            }\n          }\n        }\n      ],\n      loading: true,\n      loading1: true,\n      //    分页\n      ajaxHistoryData: [],\n      // 初始化信息总条数\n      dataCount: 0,\n      // 每页显示多少条\n      pageSize: 10,\n      page:1,\n      columns1: [\n        {\n          type: 'selection',\n          width: 60,\n          height: 20,\n          align: 'center'\n        },\n        {\n          title: '详情',\n          type: 'expand',\n          // width: 70,\n          render: (h, params) => {\n            return h(tableDetail, {\n              props: {\n                row: params.row\n              }\n            })\n          }\n        },\n        {\n          title: '订单类型',\n          key: 'state',\n          render: (h, params) => {\n            return h('Tag', {\n              props: {\n                color: params.row.state === 1 ? 'green' : params.row.state === 2 ? 'orange' : params.row.state === 3 ? 'red': params.row.state === 4 ? 'gray':params.row.state === 5 ? 'yellow':''\n              }\n            }, params.row.state === 1 ? '未开始' : params.row.state === 2 ? '进行' : params.row.state === 3 ? '结束' : params.row.state === 4 ? '疑难' : params.row.state === 5 ? '正在上门' : '');\n          }\n        },\n        {\n          title: '订单状态',\n          key: 'type',\n          render: (h, params) => {\n            return h('Tag', {\n              props: {\n                color: params.row.type === 1 ? 'green' : params.row.type === 2 ? 'red' : params.row.type === 3 ? 'orange':''\n              }\n            }, params.row.type === 1 ? '上门' : params.row.type === 2 ? '到店' : params.row.type === 3 ? '售后' : '');\n          }\n        },\n        {\n          title: '是否需要汇款',\n          key: 'paytype',\n          render: (h, params) => {\n            return h('Tag', {\n              props: {\n                color: params.row.paytype === 1 ? 'green' : params.row.paytype === 2 ? 'red' :''\n              }\n            }, params.row.paytype === 1 ? '汇款' : params.row.paytype === 2 ? '不汇款' : '');\n          }\n        },\n        {\n          title: '商品名称',\n          key: 'payname'\n        },\n        {\n          title: '机型大类',\n          key: 'category'\n        },\n        {\n          title: '预约金额',\n          key: 'total',\n          // width: 90\n        },\n        {\n          title: '预约时间',\n          key: 'appointment_time',\n          // width: 150\n        },\n        {\n          title: '编码',\n          key: 'number',\n          // width: 150\n        },\n        {\n          title: '客户名称',\n          key: 'customername',\n          // width: 100\n        },\n        {\n          title: '客户手机号',\n          key: 'userphone',\n          // width: 120\n        },\n        {\n          title: '达人手机号',\n          key: 'phone',\n        },\n        {\n          title: '操作',\n          key: 'action',\n          align: 'center',\n          width: 200,\n          render: (h, params) => {\n            return h('div', [\n              h('Button', {\n                props: {\n                  type: 'info',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px',\n                  marginBottom: '5px',\n                  marginTop:'3px'\n                  // float:'left'\n                },\n                on: {\n                  click: () => {\n                    this.xiugai(params.row);\n                  }\n                }\n              }, '修改'),\n              h('A', {\n                attrs:{\n                  href: 'http://54.223.48.127/repair/public/admin/order/pdf?Id=' + params.row.Id,\n                  download: \"pdf\"\n                },\n                props: {\n                  type: 'info',\n                  size: 'small',\n                },\n                style: {\n                  width:'20px',\n                  marginRight: '5px',\n                  marginBottom: '5px',\n                  backgroundColor:'#f39800',\n                  color:'#fff',\n                  padding:'4.5px',\n                  borderRadius: '10%',\n                  marginTop:'0px',\n                  border:'1px solid #f39800'\n                },\n                on: {\n                  click: () => {\n                    this.daochu(params.row);\n                  }\n                }\n              }, 'pdf导出'),\n              h('Button', {\n                props: {\n                  type: 'info',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px',\n                  marginBottom: '5px',\n                  // float:'right'\n                },\n                attrs: {\n                  style: 'background-color:#9c56d8;border:1px solid #9c56d8'\n                },\n                on: {\n                  click: () => {\n                    this.map(params.row);\n                  }\n                }\n              }, '查看地图'),\n              h('Button', {\n                props: {\n                  type: 'info',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px',\n                  marginBottom: '5px',\n                  // float:'left'\n                },\n                attrs: {\n                  style: 'background-color:#d6514d;border:1px solid #d6514d'\n                },\n                on: {\n                  click: () => {\n                    this.delete(params.row);\n                  }\n                }\n              }, '删除'),\n            ]);\n          }\n        }\n      ],\n      data1: [],\n      user:[],\n      user5:[],\n      user6:[],\n      user7:[],\n      cid:'',\n      cid1:'',\n      cusname:'',\n      cusname1:'',\n      user15:[],\n      user16:[],\n      user17:[],\n      cus17:{},\n      cus7:{},\n      user18:[],\n      usermoney:'',\n      youhui:[],\n      csv:[]\n    }\n  },\n  created() {\n    this.tableShow()\n    this.username()\n    // console.log(localStorage.getItem('Id'),'a参数123132')\n    // console.log(location.hash)\n  },\n  methods: {\n    //刷新\n    shuanew(){\n      this.$router.push({\n        path:'/o_management',\n        // query:{\n        //   Id:this.mapArry[a.target.Uh.vid].Id\n        // }\n      })\n      this.tableShow()\n    },\n    //复选框\n    select (selection) {\n      // console.log(\"select\")\n      // console.log(selection)\n      // console.log(selection,'单选1')\n      // for(var i = 0; i < selection.length; i ++){\n      //   this.csv[i]=selection[i].Id\n      // }\n      // console.log(this.csv,'单选')\n    },\n    selectChange(selection){\n      // console.log(\"seletctChange\")\n      // console.log(selection)\n      // console.log(selection,'2')\n      this.csvArry=\"\";\n      for(var i = 0; i < selection.length; i ++){\n        this.csv[i]=selection[i].Id\n        this.csvArry += 'Id[' + i + ']=' + this.csv[i]\n        if(i !=  selection.length-1){\n          this.csvArry  = this.csvArry + '&&'\n        }\n      }\n      // if(this.csv.length == 0){\n      //   this.href = ''\n      //   // this.$Message.error('请选择订单');\n      // }\n      this.href = 'http://192.168.8.107/repair/public/admin/order/csv?' + this.csvArry\n      // console.log(this.href,'选择改变')\n    },\n    // selectall (selection) {\n    //   // console.log(selection,'3')\n    //   // for(var i = 0; i < selection.length; i ++){\n    //   //   this.csv[i]=selection[i].Id\n    //   // }\n    //   // console.log(selection,'全选')\n    // },\n    //pdf导出\n    daochu(row){\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/pdf',\n        data: this.$qs.stringify({\n          Id:row.Id,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息')\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //导出CVS\n    daochuc(){\n      // console.log( this.csv)\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/csv',\n        data: this.$qs.stringify({\n          Id:this.csv,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // this.download(res)\n        // console.log(res.data.table,'用户信息')\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //用户信息展示\n    tableShow(){\n      // console.log(this.$route.query.uid,'123')\n      // console.log(location.search,'123')\n      // console.log(this.$route.query.times!=null,'456')\n      if(this.$route.query.uid != null && this.$route.query.state != null && this.$route.query.times != null){//接收地图传值\n        // console.log(this.$route.query.times!=null,'456')\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/show',\n          data: this.$qs.stringify({\n            uid:this.$route.query.uid,\n            phone:this.searchPhone,\n            state:this.$route.query.state,\n            type:this.type4,\n            time:this.timeArry,\n            times:this.$route.query.times,\n            page:this.page,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(this.$route.query.Id,'获取id')\n          this.ajaxHistoryData = res.data.table;\n          this.list = res.data.table;\n          this.list1 = res.data.table;\n          this.options2 = res.data.table;\n          // console.log(res.data.table,'用户信息')\n          // console.log( this.list1,'用户信息2222')\n          this.dataCount = res.data.count;\n          // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n          if (res.data.count < this.pageSize) {\n            // this.historyData = this.ajaxHistoryData;\n            this.data1 = res.data.table\n          } else {\n            this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      }else if(this.$route.query.Id != null){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/show',\n          data: this.$qs.stringify({\n            uid:this.model13,\n            phone:this.searchPhone,\n            state:this.state4,\n            type:this.type4,\n            time:this.timeArry,\n            page:this.page,\n            Id:localStorage.getItem('Id'),//接收地图传值\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(this.$route.query.Id,'获取id')\n          this.ajaxHistoryData = res.data.table;\n          this.list = res.data.table;\n          this.list1 = res.data.table;\n          this.options2 = res.data.table;\n          // console.log(res.data.table,'用户信息')\n          // console.log( this.list1,'用户信息2222')\n          this.dataCount = res.data.count;\n          // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n          if (res.data.count < this.pageSize) {\n            // this.historyData = this.ajaxHistoryData;\n            this.data1 = res.data.table\n          } else {\n            this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      }else if(this.$route.query.uid != null&&this.$route.query.state != null){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/show',\n          data: this.$qs.stringify({\n            uid:this.$route.query.uid,\n            phone:this.searchPhone,\n            state:this.$route.query.state,\n            type:this.type4,\n            time:this.timeArry,\n            page:this.page,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(this.$route.query.Id,'获取id')\n          this.ajaxHistoryData = res.data.table;\n          this.list = res.data.table;\n          this.list1 = res.data.table;\n          this.options2 = res.data.table;\n          // console.log(res.data.table,'用户信息')\n          // console.log( this.list1,'用户信息2222')\n          this.dataCount = res.data.count;\n          // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n          if (res.data.count < this.pageSize) {\n            // this.historyData = this.ajaxHistoryData;\n            this.data1 = res.data.table\n          } else {\n            this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      } else {\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/show',\n          data: this.$qs.stringify({\n            uid:this.model13,\n            phone:this.searchPhone,\n            state:this.state4,\n            type:this.type4,\n            time:this.timeArry,\n            page:this.page,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(this.$route.query.Id,'获取id')\n          this.ajaxHistoryData = res.data.table;\n          this.list = res.data.table;\n          this.list1 = res.data.table;\n          this.options2 = res.data.table;\n          // console.log(res.data.table,'用户信息')\n          // console.log( this.list1,'用户信息2222')\n          this.dataCount = res.data.count;\n          // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n          if (res.data.count < this.pageSize) {\n            // this.historyData = this.ajaxHistoryData;\n            this.data1 = res.data.table\n          } else {\n            this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      }\n\n    },\n    //pdf导出\n    daochu(row){\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/pdf',\n        data: this.$qs.stringify({\n          Id:row.Id,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息')\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //查看地图\n    map(row){\n        // console.log(row,'产看地图')\n        this.modalMap=true\n        this.center0=[row.marker[0].longitude,row.marker[0].latitude]\n        this.center1=[row.marker[1].longitude,row.marker[1].latitude]\n        // console.log(row.useradress,'content0产看地图')\n        // console.log(row.orderadress,'content1产看地图1111111')\n        // this.center=row.marker\n        // this.center[0]=row.longitude\n        // this.center[1]=row.latitude     此方式错误不显示\n        this.content = row.useradress\n        this.content1 = row.orderadress\n    },\n    ok2 () {\n      this.tableShow()\n    },\n    cancel2 () {\n      this.tableShow()\n    },\n    //搜索\n    Schioce4(item){\n      // console.log(item)\n      this.state4=item.value\n\n    },\n    Schioce5(item){\n      // console.log(item)\n      this.type4=item.value\n    },\n    Schioce6(item){\n      // console.log(item)\n      this.searchNum=item.Id\n    },\n    //客户\n    cus(){\n      this.$axios({\n        method: 'post',\n        url: 'admin/customer/show',\n        data: this.$qs.stringify({\n          // name:query,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息1100')\n        this.list17 = res.data.table\n        this.user17 = res.data.table\n        this.list7 = res.data.table\n        this.user7 = res.data.table\n\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    remoteMethod1 (query) {\n      // console.log(query,'skjfdasfkasd')\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/show',\n        data: this.$qs.stringify({\n          name:query,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        this.list = res.data.table\n        // console.log(this.list,'用户信息11')\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      if (query !== '') {\n        this.loading3 = true;\n        setTimeout(() => {\n          this.loading3 = false;\n          this.user = this.list;\n        }, 200);\n      } else {\n        this.user = [];\n      }\n      // console.log(this.model13)\n    },\n    remoteMethod5 (query) {\n      // console.log(query,'skjfdasfkasd')\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/vagueequipment',\n        data: this.$qs.stringify({\n          equipment:query,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息11')\n        this.list5 = res.data.table\n        this.user5 = res.data.table\n        this.equipmentId = res.data.table[0].Id\n        this.guzhang()\n        this.color()\n        // console.log(this.list,'用户信息11')\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      if (query !== '') {\n        this.loading5 = true;\n        setTimeout(() => {\n          this.loading5 = false;\n          this.user5 = this.list5;\n        }, 200);\n      } else {\n        this.user5 = [];\n      }\n      // console.log(this.model13)\n    },\n    remoteMethod6 (query) {\n      // console.log(query,'skjfdasfkasd')\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/vagueequipment',\n        data: this.$qs.stringify({\n          equipment:query,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息11')\n        this.list6 = res.data.table\n        this.user6 = res.data.table\n        this.equipmentId6 = res.data.table[0].Id\n        //故障\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/hitch',\n          data: this.$qs.stringify({\n            equipmentId: this.equipmentId6,\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'故障')\n          this.guzhangtable=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        //颜色\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/colour',\n          data: this.$qs.stringify({\n            equipmentId: this.equipmentId6,\n            hitch: this.gusesion,\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'颜色')\n          this.colortable=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        // console.log(this.list,'用户信息11')\n      }).catch(res => {\n        // this.$Message.error('请求超时,请稍后再试...');\n      });\n      if (query !== '') {\n        this.loading6 = true;\n        setTimeout(() => {\n          this.loading6 = false;\n          this.user6 = this.list6;\n        }, 200);\n      } else {\n        this.user6 = [];\n      }\n      // console.log(this.model13)\n    },\n    remoteMethod7 (query) {\n      // console.log(query,'skjfdasfkasd')\n      // this.tableShow()\n      this.$axios({\n        method: 'post',\n        url: 'admin/customer/show',\n        data: this.$qs.stringify({\n          name:query,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table[0],'用户信息1100')\n        // console.log(typeof(res.data.table[0].Id),'用户信息1100')\n        this.list7 = res.data.table\n        this.cus7 = res.data.table[0]\n        if(typeof(res.data.table[0]) === 'undefined'){\n          this.formItem.userphone = ''\n          this.formItem.province = ''\n          // this.cid1 = this.cus17.Id\n          this.cusname1 = query\n          this.formItem.city = ''\n          this.formItem.area = ''\n          // console.log('wu修改客户')\n          // this.cityListId=this.cus7.provinceid\n          // this.cityListId1=this.cus7.cityid\n          // this.cityListId2=this.cus7.areaid\n          this.formItem.address = ''\n          // console.log(this.cusname1,'无客户二胡额额㛑额额')\n        }else {\n          // console.log('you修改客户')\n\n          //省\n          this.$axios({\n            url: 'admin/user/adress',\n            method: 'get',\n          }).then(res => {\n            // console.log(res,'12345')\n            this.cityList = res.data.table\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...')\n          });\n\n          //市\n          this.$axios({\n            method: 'post',\n            url: 'admin/user/getRegion',\n            data: this.$qs.stringify({\n              id: res.data.table[0].provinceid,\n              type: 1,\n              // jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res,'市三级联动')\n            this.cityList1=res.data\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n\n          //区\n          this.$axios({\n            method: 'post',\n            url: 'admin/user/getRegion',\n            data: this.$qs.stringify({\n              id: res.data.table[0].cityid,\n              type: 2,\n              // jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res,'市三级联动')\n            this.cityList2=res.data\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n\n          this.formItem.userphone = this.cus7.phone\n          // this.formItem.province = this.cus7.province\n          // this.formItem.city = this.cus7.city\n          // this.formItem.area = this.cus7.area\n          // console.log(this.formItem.area,'市的方式发生三级联动')\n          this.formItem.address = this.cus7.address\n          this.cid1 = this.cus7.Id\n          // console.log(this.cid1,'有客户市三级联动')\n          this.cityListId=this.cus7.provinceid\n          this.cityListId1=this.cus7.cityid\n          this.cityListId2=this.cus7.areaid\n\n        }\n\n\n      }).catch(res => {\n        // this.$Message.error('请求超时,请稍后再试...');\n      });\n      if (query !== '') {\n        this.loading7 = true;\n        setTimeout(() => {\n          this.loading7 = false;\n          this.user7 = this.list7;\n        }, 200);\n      } else {\n        this.user7 = [];\n      }\n      // console.log(this.user17)\n      // console.log(this.list17)\n    },\n    clear7(){\n      // console.log('123')\n      this.cid1 = ''\n      this.formItem.userphone = ''\n      this.formItem.province = ''\n      this.formItem.city = ''\n      this.formItem.area = ''\n      this.formItem.address = ''\n      this.cus()\n    },\n    remoteMethod15 (query) {\n      // console.log(query,'skjfdasfkasd')\n      // this.tableShow()\n\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/show',\n        data: this.$qs.stringify({\n          name:query,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        this.list15 = res.data.table\n        this.usermoney = res.data.table[0].Id\n\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n\n      //优惠券\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/coupon',\n        data: this.$qs.stringify({\n          uid: this.usermoney,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息')\n        this.youhui = res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      if (query !== '') {\n        this.loading15 = true;\n        setTimeout(() => {\n          this.loading15 = false;\n          this.user15 = this.list15;\n        }, 200);\n      } else {\n        this.user15 = [];\n      }\n      // console.log(this.model13)\n    },\n    clear15(){\n      // console.log('123')\n      this.formAdd.uid = ''\n      this.username()\n    },\n    remoteMethod16 (query) {\n      // console.log(query,'skjfdasfkasd')\n      // this.tableShow()\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/show',\n        data: this.$qs.stringify({\n          name:query,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        this.list16 = res.data.table\n        this.usermoney = res.data.table[0].Id\n        // console.log(this.list16,'用户信息11')\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      if (query !== '') {\n        this.loading16 = true;\n        setTimeout(() => {\n          this.loading16 = false;\n          this.user16 = this.list16;\n        }, 200);\n      } else {\n        this.user16 = [];\n      }\n      // console.log(this.model13)\n    },\n    remoteMethod17 (query) {\n      // console.log(query,'skjfdasfkasd')\n      // this.tableShow()\n      this.$axios({\n        method: 'post',\n        url: 'admin/customer/show',\n        data: this.$qs.stringify({\n          name:query,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n\n        this.list17 = res.data.table\n\n        // this.cid = this.cus17.Id\n        // console.log(typeof(res.data.table[0].Id),'11111111')\n        // console.log(typeof(res.data.table[0].Id) == typeof(3))\n        if(typeof(res.data.table[0].Id) == typeof(3)){\n\n          this.cus17 = res.data.table[0]\n          this.formAdd.userphone = this.cus17.phone\n          this.formAdd.province = this.cus17.province\n\n\n          //省\n          this.$axios({\n            url: 'admin/user/adress',\n            method: 'get',\n          }).then(res => {\n            // console.log(res,'12345')\n            this.cityList = res.data.table\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...')\n          });\n\n          //市\n          this.$axios({\n            method: 'post',\n            url: 'admin/user/getRegion',\n            data: this.$qs.stringify({\n              id: res.data.table[0].provinceid,\n              type: 1,\n              // jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res,'市三级联动')\n            this.cityList1=res.data\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n\n          //区\n          this.$axios({\n            method: 'post',\n            url: 'admin/user/getRegion',\n            data: this.$qs.stringify({\n              id: res.data.table[0].cityid,\n              type: 2,\n              // jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res,'市三级联动')\n            this.cityList2=res.data\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n          this.formAdd.city = this.cus17.city\n          this.formAdd.area = this.cus17.area\n\n          this.cityListId=this.cus17.provinceid\n          this.cityListId1=this.cus17.cityid\n          this.cityListId2=this.cus17.areaid\n          this.formAdd.address = this.cus17.address\n          this.cid = this.cus17.Id\n\n        }else {\n\n          // console.log(typeof(res.data.table[0].Id),'1222222222222nei')\n          this.formAdd.cid = ''\n          this.formAdd.userphone = ''\n          this.formAdd.province = ''\n          this.formAdd.city = ''\n          this.formAdd.area = ''\n          this.formAdd.address = ''\n          this.cusname = query\n          // console.log(this.cusname,'无客户')\n\n        }\n\n\n      }).catch(res => {\n        // this.$Message.error('请求超时,请稍后再试...');\n      });\n      if (query !== '') {\n        this.loading17 = true;\n        setTimeout(() => {\n          this.loading17 = false;\n          this.user17 = this.list17;\n        }, 200);\n      } else {\n        this.user17 = [];\n      }\n      // console.log(this.user17)\n      // console.log(this.list17)\n    },\n    clear17(){\n      // console.log('123')\n      this.formAdd.cid = ''\n      this.formAdd.userphone = ''\n      this.formAdd.province = ''\n      this.formAdd.city = ''\n      this.formAdd.area = ''\n      // this.cityListId=''\n      // this.cityListId1=''\n      // this.cityListId2=''\n      this.formAdd.address = ''\n      this.cus()\n    },\n    handSeek(){\n      this.tableShow()\n    },\n    //新增\n    add(){\n      this.modal3=true\n      this.remoteMethod15()\n      this. weixiu()\n      //客户详情\n      this.$axios({\n        url: 'admin/customer/show',\n        method: 'post',\n        data: this.$qs.stringify({\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res,'12345客户详情')\n        this.list17 = res.data.table\n        this.user17 = res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...')\n      });\n      //省联动\n      this.$axios({\n        url: 'admin/user/adress',\n        method: 'get',\n      }).then(res => {\n        // console.log(res,'12345')\n        this.cityList = res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...')\n      });\n      //支付方式\n      this.$axios({\n        method: 'post',\n        url: 'admin/Pay/show',\n        data: this.$qs.stringify({\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'支付方式')\n        this.pay=res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      //机型大类\n      this.jiixnglei()\n      this. username()\n\n    },\n    //用户列表\n    username(){\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/show',\n        data: this.$qs.stringify({\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息')\n        this.user = res.data.table\n        this.list16 = res.data.table\n        this.list15 = res.data.table\n        this.user15 = res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //省联动\n    chioce(item){\n      // console.log(JSON.stringify(item),'12345')\n      // console.log(item,'1234554321')\n      this.shengName = item.name\n      this.cityListId=item.id\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/getRegion',\n        data: this.$qs.stringify({\n          id: item.id,\n          type: item.type\n          // jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res,'市三级联动')\n        this.cityList1=res.data\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //市联动\n    chioce1(item){\n      // console.log(JSON.stringify(item),'12345')\n      this.shiName = item.name\n      this.cityListId1=item.id\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/getRegion',\n        data: this.$qs.stringify({\n          id: item.id,\n          type: item.type\n          // jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res,'市三级联动')\n        this.cityList2=res.data\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //区联动\n    chioce2(item){\n      this.cityListId2=item.id\n      this.quName = item.name\n    },\n    //获取地图坐标点\n    mapInput(){\n      // console.log(this.formAdd.address,'123456')\n      this.maptu = true\n      // if(this.formAdd.address==!null){\n      //   this.maptu = true\n      // }else {\n      //   this.maptu = false\n      // }\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/query',\n        data: this.$qs.stringify({\n          address: this.shengName + this.shiName + this.quName + this.formAdd.address,\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table.location.lng,'市三级联动')\n        // this.maoOrder=res.data.tabel\n        // this.center1=[row.marker[1].longitude,row.marker[1].latitude]\n        this.center2=[res.data.table.location.lng,res.data.table.location.lat]\n        // this.center2=[114.30 ,30.57]\n        // console.log(this.center2,'市三级联动')\n      }).catch(res => {\n        // this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    mapInput1(){\n      // console.log(this.formAdd.address,'123456')\n      this.maptu1 = true\n      // if(this.formAdd.address==!null){\n      //   this.maptu = true\n      // }else {\n      //   this.maptu = false\n      // }\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/query',\n        data: this.$qs.stringify({\n          address: this.shengName + this.shiName + this.quName + this.formAdd.address,\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table.location.lng,'市三级联动')\n        // this.maoOrder=res.data.tabel\n        // this.center1=[row.marker[1].longitude,row.marker[1].latitude]\n        this.center3=[res.data.table.location.lng,res.data.table.location.lat]\n        // this.center2=[114.30 ,30.57]\n        // console.log(this.center2,'市三级联动')\n      }).catch(res => {\n        // this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //维修日期\n    weixiu(){\n      this.$axios({\n        method: 'get',\n        url: 'admin/Warrantytime/show',\n        // data: this.$qs.stringify({\n        //   jwt:localStorage.getItem('jwt')\n        // })\n      }).then(res => {\n        // console.log(res,'weixiu')\n        this.xiutable=res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    remoteMethod2 (query) {\n      this.tableShow()\n      if (query !== '') {\n        this.loading2 = true;\n        setTimeout(() => {\n          this.loading2 = false;\n          this.options2 = this.list1;\n          // console.log(this.options2,'多选')\n          // const list = this.list.map(item => {\n          //   return {\n          //     value: item,\n          //     label: item\n          //   };\n          // });\n\n        }, 200);\n      } else {\n        this.options2 = [];\n      }\n      // console.log(this.options2,'多选')\n    },\n    change(value){\n      // console.log(value,'gaibhian')\n      this.formAdd.associated_orders = value\n      // console.log(this.formAdd.associated_orders,'132223gaibhian')\n    },\n    //设备\n    shebeilei(){\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/vagueequipment',\n        data: this.$qs.stringify({\n          // category: this.Nlei,\n          // brand: this.Npinpai,\n          equipment: this.equipment,\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res,'设备')\n        this.shebei=res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //故障\n    guzhang(){\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/hitch',\n        data: this.$qs.stringify({\n          equipmentId: this.equipmentId,\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'故障')\n        this.guzhangtable=res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //颜色\n    color(){\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/colour',\n        data: this.$qs.stringify({\n          equipmentId: this.equipmentId,\n          hitch: this.gusesion,\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res,'颜色')\n        this.colortable=res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    chioce9(item){\n      // console.log(item,'品牌1')\n      this.Nlei=item.category\n      //品牌\n      this.pinpailei()\n    },\n    chioce3(item){\n      // console.log(item,'品牌1')\n      this.Npinpai=item.brand\n      this.jixinglei1()\n    },\n    //机型\n    chioce4(item){\n      // console.log(item,'机型1')\n      this.Njixing=item.version\n      this.shebeilei()\n    },\n    //设备\n    chioce5(item){\n      // console.log(item,'设备')\n      this.Nshebei=item.equipment\n      this.formAdd.eid = item.Id\n      this.guzhang()\n    },\n    chioceformItem5(item){\n      // console.log(item,'设备')\n      this.Nshebei=item.equipment\n      this.formItem.eid = item.Id\n      this.guzhang()\n    },\n    chiocegu(item){\n      // console.log(item,'故障11111')\n      this.gusesion = item.hitch\n      this.gusesionId = item.Id\n      this.formAdd.amount = item.amount\n      this.formItem.amount = item.amount\n      this.color()\n    },\n    chiocecolor(item){\n      // console.log(item,'故障11111')\n      this.colorsesion = item.color\n      this.colorId = item.Id\n      this.formAdd.amount = item.amount\n    },\n    chioce6(item){\n      // console.log(item,'订单类型')\n      this.formAdd.state = item.value\n      this.formItem.state = item.value\n    },\n    chioce7(item){\n      // console.log(item,'订单状态')\n      this.formAdd.type = item.value\n      this.formItem.type = item.value\n    },\n    chioce8(item){\n      // console.log(item,'支付方式')\n      this.formAdd.payid = item.Id\n      this.formItem.payid = item.Id\n      if(item.pay_type == 1){\n        this.formItem.paytypeItem = '需要汇款'\n        this.formAdd.paytypeItem = '需要汇款'\n      }else if(item.pay_type == 2){\n        this.formItem.paytypeItem = '不需要汇款'\n        this.formAdd.paytypeItem = '不需要汇款'\n      }\n    },\n    chioce10(item){\n      // console.log(item,'yonghu')\n      this.formAdd.uid = item.Id\n      this.formItem.uid = item.Id\n      //优惠券\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/coupon',\n        data: this.$qs.stringify({\n          uid: item.Id,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息')\n        this.youhui = res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    chioce11(item){\n      // console.log(item,'yoouhuiquan')\n      this.formAdd.couponId = item.Id\n      this.formItem.couponId = item.Id\n    },\n    chioce14(item){\n      // console.log(item,'yoouhuiquan')\n      this.formAdd.paystate = item.Id\n    },\n    chioceformItem14(item){\n      // console.log(item,'yoouhuiquan')\n      this.formItem.paystate = item.Id\n    },\n    chioce15(item){\n      // console.log(item,'yoouhuiquan')\n      this.formAdd.warrantytime = item.time\n      this.formItem.warrantytime = item.time\n    },\n    chioce16(item){\n      // console.log(item,'yoouhuiquan')\n      // this.formAdd.warrantytime = item.time\n    },\n    changedateSou(res){\n      // console.log(res,'时间内')\n      this.timeArry[0]=res\n    },\n    changedate(res){\n      // console.log(res,'时间内')\n      this.adddate=res\n    },\n    changedateSou1(res){\n      // console.log(res,'时间内')\n      this.adddate1=res\n      this.timeArry[1]=res\n    },\n    changedate2(res){\n      // console.log(res,'时间内')\n      this.adddate=res\n    },\n    changetime(res){\n      // console.log(res,'分钟时间内')\n      this.addtime=res\n    },\n    handleBeforUpload1 (file) {\n      this.img1.image = file  // 将回调的文件信息存入data.file\n    },\n    handleSuccess1(response){\n      // console.log(response,'图片')\n      this.formAdd.customer_img.push(response.url)\n      this.formItem.customer_img.push(response.url)\n      // console.log(this.formAdd.customer_img,'图片1')\n    },\n    ok3 (formAdd) {\n      console.log(typeof(this.cid),'验证')\n      // console.log(typeof(this.cid) == typeof(2),'验证')\n      if(typeof(this.cid) == typeof(2)){\n        this.$refs[formAdd].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              method: 'post',\n              url: 'admin/order/insert',\n              data: this.$qs.stringify({\n                uid:this.usermoney,\n                cid:this.cid,\n                // cid:this.cusname,\n                couponId:this.formAdd.couponId,\n                // specific:this.formAdd.specific,\n                programme:this.formAdd.programme,\n                province: this.cityListId,\n                city: this.cityListId1,\n                area:this.cityListId2,\n                address:this.formAdd.address,\n                customer_service:this.formAdd.customer_service,\n                state:this.formAdd.state,\n                appointment_time:this.adddate + ' ' + this.addtime,\n                eid:this.gusesionId,\n                color:this.formAdd.color1,\n                userphone:this.formAdd.userphone,\n                customer_img:this.formAdd.customer_img,\n                type:this.formAdd.type,\n                payid:this.formAdd.payid,\n                paystate:this.formAdd.paystate,\n                roadfare:this.formAdd.roadfare,\n                thirdnumber:this.formAdd.thirdnumber,\n                warrantytime:this.formAdd.warrantytime,\n                associated_orders:this.formAdd.associated_orders,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'用户增加')\n              this.tableShow()\n              this.modal3 = false\n              this.formAdd = {}\n            }).catch(res => {\n              this.modal3 = false\n              this.tableShow()\n              this.formAdd = {}\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            callback();\n          } else{\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n            this.$Message.error('新增失败，请填写完整的信息!');\n          }\n        })\n      }else {\n        this.$refs[formAdd].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              method: 'post',\n              url: 'admin/order/insert',\n              data: this.$qs.stringify({\n                uid:this.usermoney,\n                // cid:this.cid,\n                cid:this.cusname,\n                couponId:this.formAdd.couponId,\n                // specific:this.formAdd.specific,\n                programme:this.formAdd.programme,\n                province: this.cityListId,\n                city: this.cityListId1,\n                area:this.cityListId2,\n                address:this.formAdd.address,\n                customer_service:this.formAdd.customer_service,\n                state:this.formAdd.state,\n                appointment_time:this.adddate + ' ' + this.addtime,\n                eid:this.gusesionId,\n                color:this.formAdd.color1,\n                userphone:this.formAdd.userphone,\n                customer_img:this.formAdd.customer_img,\n                type:this.formAdd.type,\n                payid:this.formAdd.payid,\n                paystate:this.formAdd.paystate,\n                roadfare:this.formAdd.roadfare,\n                thirdnumber:this.formAdd.thirdnumber,\n                warrantytime:this.formAdd.warrantytime,\n                associated_orders:this.formAdd.associated_orders,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'用户增加')\n              this.formAdd = {}\n              this.tableShow()\n              this.modal3 = false\n\n            }).catch(res => {\n              this.modal3 = false\n              this.tableShow()\n              this.formAdd = {}\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            callback();\n          } else{\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n            this.$Message.error('新增失败，请填写完整的信息!');\n          }\n        })\n      }\n\n      this.tableShow()\n      this.formAdd = {}\n    },\n    cancel3 () {\n      this.tableShow()\n      this.formAdd = {}\n      // this.$Message.info('Clicked cancel');\n    },\n    //用户修改\n    xiugai(row){\n      // console.log(row)\n      // this. username()\n      this.modal1=true\n      // this.formItem=row\n\n      //达人\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/show',\n        data: this.$qs.stringify({\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息')\n        this.user = res.data.table\n        this.user16 = res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      //优惠券\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/coupon',\n        data: this.$qs.stringify({\n          uid: row.uid,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'用户信息')\n        this.youhui = res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      //支付方式\n      this.$axios({\n        method: 'post',\n        url: 'admin/Pay/show',\n        data: this.$qs.stringify({\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table,'支付方式')\n        this.pay=res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      //客户详情\n      this.$axios({\n        url: 'admin/customer/show',\n        method: 'post',\n        data: this.$qs.stringify({\n          jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res,'12345')\n        this.list7 = res.data.table\n        this.user7 = res.data.table\n\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...')\n      });\n      //省\n      this.$axios({\n        url: 'admin/user/adress',\n        method: 'get',\n      }).then(res => {\n        // console.log(res,'12345')\n        this.cityList = res.data.table\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...')\n      });\n      //市\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/getRegion',\n        data: this.$qs.stringify({\n          id: row.provinceid,\n          type: 1,\n          // jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res,'市三级联动')\n        this.cityList1=res.data\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      //区\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/getRegion',\n        data: this.$qs.stringify({\n          id: row.cityid,\n          type: 2,\n          // jwt:localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res,'市三级联动')\n        this.cityList2=res.data\n      }).catch(res => {\n        this.$Message.error('请求超时,请稍后再试...');\n      });\n      //设备\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/vagueequipment',\n          data: this.$qs.stringify({\n            equipment: row.equipment,\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'设备')\n          this.shebei=res.data.table\n          //故障\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/hitch',\n            data: this.$qs.stringify({\n              equipmentId: this.shebei[0].Id,\n              jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res.data.table,'故障')\n            this.guzhangtable=res.data.table\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n          //颜色\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/colour',\n            data: this.$qs.stringify({\n              equipmentId: this.shebei[0].Id,\n              hitch: row.hitch,\n              jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res,'颜色')\n            this.colortable=res.data.table\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n\n      // this.formItem.uid=''\n      this.formItem.Id=row.Id\n      this.cityListId=row.provinceid\n      this.cityListId1=row.cityid\n      this.cityListId2=row.areaid\n      this.formItem.programme=row.programme\n      this.formItem.customer_service=row.customer_service\n      this.formItem.userphone=row.userphone\n      this.formItem.province=row.province\n      this.formItem.city=row.city\n      this.formItem.area=row.area\n      this.formItem.address=row.address\n      // this.formItem.cid=row.customername\n      this.formItem.roadfare=row.roadfare\n      this.formItem.thirdnumber=row.thirdnumber\n      this.formItem.customer_img=row.customer_img\n      // this.formItem.thirdnumber=row.thirdnumber\n      this.formItem.eid=row.equipment\n      this.formItem.hitch=row.hitch\n      this.formItem.color1=row.colour\n      this.gusesionId = row.specific\n      this.formItem.amount = row.originalprice\n      // this.formItem.warrantytime=row.warrantytime\n      // this.add()\n      this.weixiu()\n\n      // console.log(this.user7,'客户最后')\n      // this.jiixnglei()\n\n      //订单状态\n      if(row.paytype == 1){\n        this.formItem.paytypeItem = '需要汇款'\n      }else if(row.paytype == 2){\n        this.formItem.paytypeItem = '不需要汇款'\n      }\n      //订单状态\n      if(row.type == 1){\n        this.formItem.type = '上门'\n      }else if(row.type == 2){\n        this.formItem.type = '到店'\n      }else if(row.type == 3){\n        this.formItem.type = '售后'\n      }\n      //订单类型\n      if(row.state == 1){\n        this.formItem.state = '未开始'\n      }else if(row.state == 2){\n        this.formItem.state = '进行'\n      }else if(row.state == 3){\n        this.formItem.state = '结束'\n      }else if(row.state == 4){\n        this.formItem.state = '疑难'\n      }else if(row.state == 5){\n        this.formItem.state = '正在上门'\n      }\n      支付方式\n      if(row.payid == 1){\n        this.formItem.payid = '汇款'\n      }else if(row.payid == 2){\n        this.formItem.payid = '不汇款'\n      }\n      //支付状态\n      if(row.paystate == 1){\n        this.formItem.paystate = '已支付'\n      }else if(row.paystate == 2){\n        this.formItem.paystate = '未支付'\n      }\n\n    },\n    remoteMethodItem2 (query) {\n      this.tableShow()\n      if (query !== '') {\n        this.loadingItem2 = true;\n        setTimeout(() => {\n          this.loadingItem2 = false;\n          this.options2 = this.list1;\n        }, 200);\n      } else {\n        this.options2 = [];\n      }\n      // console.log(this.options2,'多选')\n    },\n    changeItem(value){\n      // console.log(value,'gaibhian')\n      this.formItem.associated_orders = value\n      // console.log(this.formAdd.associated_orders,'132223gaibhian')\n    },\n    ok (formItem) {\n      // console.log(this.gusesionId,'113465654')\n      // this.modal3=false\n      // console.log(this.usermoney,'remoteMethod15')\n      // console.log('remoteMethod15')\n      // console.log(this.cid1)\n      if(typeof(this.cid1) == typeof(2)){\n        // console.log(this.cid1)\n        this.$refs[formItem].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              method: 'post',\n              url: 'admin/order/upd',\n              data: this.$qs.stringify({\n                Id:this.formItem.Id,\n                uid:this.usermoney,\n                cid:this.cid1,\n                couponId:this.formItem.couponId,\n                // specific:this.formItem.specific,\n                programme:this.formItem.programme,\n                province: this.cityListId,\n                city: this.cityListId1,\n                area:this.cityListId2,\n                address:this.formItem.address,\n                customer_service:this.formItem.customer_service,\n                state:this.formItem.state,\n                appointment_time:this.adddate + ' ' + this.addtime,\n                eid:this.gusesionId,\n                color:this.formItem.color1,\n                userphone:this.formItem.userphone,\n                customer_img:this.formItem.customer_img,\n                type:this.formItem.type,\n                payid:this.formItem.payid,\n                paystate:this.formItem.paystate,\n                roadfare:this.formItem.roadfare,\n                thirdnumber:this.formItem.thirdnumber,\n                warrantytime:this.formItem.warrantytime,\n                associated_orders:this.formItem.associated_orders,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'用户修改')\n              this.modal3=false\n              this.modal1=false\n              this.tableShow()\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            callback();\n          } else{\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n            this.$Message.error('修改失败,请正确填写信息!');\n          }\n        })\n      }else {\n        // console.log(this.cusname1)\n        this.$refs[formItem].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              method: 'post',\n              url: 'admin/order/upd',\n              data: this.$qs.stringify({\n                Id:this.formItem.Id,\n                uid:this.usermoney,\n                cid:this.cusname1,\n                couponId:this.formItem.couponId,\n                // specific:this.formItem.specific,\n                programme:this.formItem.programme,\n                province: this.cityListId,\n                city: this.cityListId1,\n                area:this.cityListId2,\n                address:this.formItem.address,\n                customer_service:this.formItem.customer_service,\n                state:this.formItem.state,\n                appointment_time:this.adddate + ' ' + this.addtime,\n                eid:this.gusesionId,\n                color:this.formItem.color1,\n                userphone:this.formItem.userphone,\n                customer_img:this.formItem.customer_img,\n                type:this.formItem.type,\n                payid:this.formItem.payid,\n                paystate:this.formItem.paystate,\n                roadfare:this.formItem.roadfare,\n                thirdnumber:this.formItem.thirdnumber,\n                warrantytime:this.formItem.warrantytime,\n                associated_orders:this.formItem.associated_orders,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'用户修改')\n              this.modal3=false\n              this.modal1=false\n              this.tableShow()\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            callback();\n          } else{\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n            this.$Message.error('修改失败,请正确填写信息!');\n          }\n        })\n      }\n\n      this.tableShow()\n    },\n    cancel () {\n      this.modal3=false\n      this.tableShow()\n      // this.$Message.info('Clicked cancel');\n    },\n    // 修改上传图片\n    xiugaiimg(row){\n      // console.log(row)\n      this.modal2=true\n      // this.formImg=row\n      this.formImg.Id=row.Id\n    },\n    handleBeforUpload (file) {\n      // this.formImg.img = file;\n      this.file = file  // 将回调的文件信息存入data.file\n      return false\n    },\n    handleSuccess (response, file, fileList) {\n      if(response.code === 200){\n        this.modal2=false\n        this.tableShow()\n      }\n    },\n    //删除\n    delete(row){\n      // console.log(row)\n      this.$Modal.confirm({\n        title: '删除',\n        content: '确认删除该条信息吗？',\n        onOk: () => {\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/delete',\n            data: this.$qs.stringify({\n              Id: row.Id,\n              jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            this.tableShow()\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n        },\n        onCancel: () => {\n          this.$Message.info('取消');\n        }\n      });\n    },\n    //分页\n    changepage (index) {\n      this.page = index\n      // console.log(this.page,'123')\n      this.tableShow()\n      var _start = (index - 1) * this.pageSize;\n      var _end = index * this.pageSize;\n      this.data1 = this.ajaxHistoryData.slice(_start, _end);\n    }\n  },\n  // mounted(){\n  //   console.log(window.location.href.split(\"?\")[1].split(\"=\")[1],'a参数')\n  //   console.log(localStorage.getItem('Id'),'a参数123132')\n  //   this.$axios({\n  //     method: 'post',\n  //     url: 'admin/order/show',\n  //     data: this.$qs.stringify({\n  //       uid:this.model13,\n  //       phone:this.searchPhone,\n  //       state:this.state4,\n  //       type:this.type4,\n  //       time:this.timeArry,\n  //       page:this.page,\n  //       Id:localStorage.getItem('Id'),//接收地图传值\n  //       jwt: localStorage.getItem('jwt')\n  //     })\n  //   }).then(res => {\n  //     // console.log(this.$route.query.Id,'获取id')\n  //     this.ajaxHistoryData = res.data.table;\n  //     this.list = res.data.table;\n  //     this.list1 = res.data.table;\n  //     this.options2 = res.data.table;\n  //     // console.log(res.data.table,'用户信息')\n  //     // console.log( this.list1,'用户信息2222')\n  //     this.dataCount = res.data.count;\n  //     // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n  //     if (res.data.count < this.pageSize) {\n  //       // this.historyData = this.ajaxHistoryData;\n  //       this.data1 = res.data.table\n  //     } else {\n  //       this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n  //     }\n  //   }).catch(res => {\n  //     this.$Message.error('请求超时,请稍后再试...');\n  //   });\n  // }\n}\n",{"version":3,"sources":["o_management.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"o_management.vue","sourceRoot":"src/view/orderManagemnet","sourcesContent":["<template>\n  <div>\n    <!--<router-link :to=\"{path:'/o_management'}\"><span>刷新</span></router-link>-->\n    <Button style=\"margin-left: 10px;margin-right: 5px;float: left;background-color:#9c56d8;border:1px solid #9c56d8\" type=\"info\" @click=\"shuanew\">刷新</Button>\n    <Button style=\"margin-left: 10px;margin-right: 5px;float: left\" type=\"info\" @click=\"add\">新增</Button>\n    <!--搜索-->\n    <div style=\"float: left\">\n      <Select style=\"width:150px;margin-right: 3px\" :clearable=\"true\" placeholder=\"请选择订单状态\">\n        <Option v-for=\"item in stateid\" :value=\"item.label\" :key=\"item.Id\" @click.native=\"Schioce4(item)\" style=\"width: 80px\">{{ item.label }}</Option>\n      </Select>\n      <Select style=\"width:150px;margin-right: 3px\" :clearable=\"true\" placeholder=\"请选择订单类型\">\n        <Option v-for=\"item in typeid\" :value=\"item.label\" :key=\"item.Id\" @click.native=\"Schioce5(item)\" style=\"width: 80px\">{{ item.label }}</Option>\n      </Select>\n      <Row style=\"float: left;margin-right: 3px\">\n        <Col span=\"12\">\n          <DatePicker type=\"date\" placeholder=\"请选择日期\" style=\"width: 150px;margin-right: 3px\" @on-change=\"changedateSou\"></DatePicker>\n        </Col>\n        <Col span=\"12\">\n          <DatePicker type=\"date\" placeholder=\"请选择时间\" style=\"width: 150px\" @on-change=\"changedateSou1\"></DatePicker>\n        </Col>\n      </Row>\n      <Row style=\"float: left;margin-right: 3px\">\n        <Col span=\"12\">\n          <Select\n            v-model=\"model13\"\n            filterable\n            remote\n            style=\"width:200px\"\n            :clearable=\"true\"\n            placeholder=\"请选择达人或关键字搜索\"\n            :remote-method=\"remoteMethod1\"\n            :loading=\"loading3\">\n            <Option v-for=\"(item, index) in user\" :value=\"item.Id\" :key=\"index\" style=\"width: 80px\">{{item.name}}</Option>\n          </Select>\n        </Col>\n      </Row>\n\n      <!--<Select style=\"width:150px\">-->\n        <!--<Option v-for=\"item in user\" :value=\"item.Id\" :key=\"item.Id\" @click.native=\"Schioce6(item)\" style=\"width: 80px\">{{ item.name }}</Option>-->\n      <!--</Select>-->\n    </div>\n    <!--<Input clearable placeholder=\"请输入用户关键字搜索\" class=\"search-input\" v-model=\"searchNum\" style=\"width: 200px\"/>-->\n    <Input clearable placeholder=\"请输入手机号关键字搜索\" class=\"search-input\" v-model=\"searchPhone\" style=\"width: 200px;margin-right: 3px\"/>\n    <Button type=\"info\" @click=\"handSeek\">搜索</Button>\n    <br>\n    <!--<Button @click=\"handleSelectAll(true)\" style=\"margin:5px 5px 0px 10px\">全选</Button>-->\n    <!--<Button @click=\"handleSelectAll(false)\" style=\"margin-top: 5px\">取消</Button>-->\n    <Button style=\"margin:5px 5px 0px 10px;background-color: #f39800;border: 1px solid #f39800\" type=\"info\">\n      <!--请选择订单CSV导出-->\n      <a @click=\"daochuc\" :href=\"href\" download=\"csv\" style=\"color: #fff\"><Icon type=\"ios-download-outline\"></Icon>请选择订单CSV导出</a>\n    </Button>\n    <Table border ref=\"selection\" :columns=\"columns1\" :data=\"data1\" @on-select=\"select\" @on-selection-change=\"selectChange\" style=\"margin-top: 10px\"></Table>\n\n    <!--新增-->\n    <Modal\n      v-model=\"modal3\"\n      title=\"新增\"\n      :width=\"700\"\n      @on-ok=\"ok3('formAdd')\"\n      @on-cancel=\"cancel3\"\n      :loading=\"loading\">\n      <Form :model=\"formAdd\" :label-width=\"100\" :rules=\"ruleValidate\" ref=\"formAdd\" :inline=\"true\">\n          <FormItem label=\"达人\" prop=\"uid\">\n            <Row style=\"float: left;margin-right: 3px\">\n              <Col span=\"12\">\n                <Select\n                  v-model=\"formAdd.uid\"\n                  filterable\n                  remote\n                  style=\"width:200px\"\n                  :clearable=\"true\"\n                  placeholder=\"请选择达人或输入达人名称\"\n                  @on-clear=\"clear15\"\n                  :remote-method=\"remoteMethod15\"\n                  :loading=\"loading15\">\n                  <Option v-for=\"(item, index) in user15\" :value=\"item.name\" :key=\"index\" style=\"width: 100px\">{{item.name}}</Option>\n                </Select>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"维修方案\" prop=\"programme\">\n            <Input v-model=\"formAdd.programme\" placeholder=\"\" style=\"width:200px\"></Input>\n          </FormItem>\n          <hr class=\"xiahuaxian\">\n          <FormItem label=\"设备\" prop=\"eid\">\n              <Row style=\"float: left;margin-right: 3px\">\n                <Col span=\"12\">\n                  <Select\n                    v-model=\"formAdd.eid\"\n                    filterable\n                    remote\n                    style=\"width:200px\"\n                    :clearable=\"true\"\n                    placeholder=\"请输入设备关键字选择\"\n                    :remote-method=\"remoteMethod5\"\n                    :loading=\"loading5\">\n                    <Option v-for=\"(item, index) in user5\" :value=\"item.equipment\" :key=\"index\" style=\"width: 100px\">{{item.equipment}}</Option>\n                  </Select>\n                </Col>\n              </Row>\n            </FormItem>\n          <FormItem label=\"具体故障\" prop=\"specific\">\n            <Select v-model=\"formAdd.specific\" style=\"width:200px\">\n              <Option v-for=\"item in guzhangtable\" :value=\"item.hitch\" :key=\"item.Id\" @click.native=\"chiocegu(item)\">{{ item.hitch }}</Option>\n            </Select>\n            <!--<Input v-model=\"formAdd.specific\" placeholder=\"\" style=\"width:200px\"></Input>-->\n          </FormItem>\n          <FormItem label=\"颜色\" prop=\"specific\">\n            <Select v-model=\"formAdd.color1\" style=\"width:200px\">\n              <Option v-for=\"item in colortable\" :value=\"item.colour\" :key=\"item.Id\" @click.native=\"chiocecolor(item)\">{{ item.colour }}</Option>\n            </Select>\n            <!--<Input v-model=\"formAdd.color\" placeholder=\"\" style=\"width:200px\"></Input>-->\n          </FormItem>\n          <FormItem label=\"金额\" prop=\"amount\">\n            <Input v-model=\"formAdd.amount\" placeholder=\"\" style=\"width:200px\" :readonly=\"readon\"></Input>\n          </FormItem>\n          <hr class=\"xiahuaxian\">\n          <FormItem label=\"客服备注\" prop=\"customer_service\">\n          <Input v-model=\"formAdd.customer_service\" placeholder=\"\" style=\"width:200px\"></Input>\n        </FormItem>\n          <FormItem label=\"备注图片\" prop=\"customer_img\">\n            <Upload\n              action=\"http://54.223.48.127/repair/public/admin/index/upd\"\n              :data=\"img1\"\n              ref=\"upload\"\n              :multiple=\"true\"\n              :format=\"['jpg','jpeg','png']\"\n              :show-upload-list=\"false\"\n              :before-upload=\"handleBeforUpload1\"\n              :on-success=\"handleSuccess1\">\n              <Button icon=\"ios-cloud-upload-outline\">点击上传</Button>\n            </Upload>\n            <!--<div style=\"width: 100px;height: 100px;border: 1px darkgrey solid;margin-right: 5px;margin-top: 5px\" v-for=\"img in formAdd.customer_img\">-->\n            <!--<img :src=\"img\" alt=\"请点击上传\" style=\"width: 100px;height: 100px\" v-model=\"formAdd.customer_img\">-->\n            <!--</div>-->\n            <!--<Input v-model=\"formAdd.customer_img\" placeholder=\"\"></Input>-->\n          </FormItem>\n          <FormItem>\n            <div style=\"width: 100px;height: 100px;border: 1px darkgrey solid;float: left;margin-right: 5px\" v-for=\"img in formAdd.customer_img\">\n              <img :src=\"img\" alt=\"请点击上传\" style=\"width: 100px;height: 100px\" v-model=\"formAdd.customer_img\">\n            </div>\n          </FormItem>\n          <hr class=\"xiahuaxian\">\n          <FormItem label=\"客户\" prop=\"cid\">\n            <Row style=\"float: left\">\n              <Col span=\"12\">\n                <Select\n                  v-model=\"formAdd.cid\"\n                  filterable\n                  remote\n                  style=\"width:200px\"\n                  :clearable=\"true\"\n                  placeholder=\"请选择客户或输入客户名称\"\n                  @on-clear=\"clear17\"\n                  :remote-method=\"remoteMethod17\"\n                  :loading=\"loading17\">\n                  <Option v-for=\"(item, index) in user17\" :value=\"item.name\" :key=\"index\" style=\"width: 200px\">{{item.name}}</Option>\n                </Select>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"手机号\" prop=\"userphone\">\n            <Input v-model=\"formAdd.userphone\" placeholder=\"\" style=\"width:200px\"></Input>\n          </FormItem>\n          <FormItem label=\"省份\" prop=\"province\">\n            <Select v-model=\"formAdd.province\" style=\"width:200px\">\n              <Option v-for=\"item in cityList\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce(item)\">{{ item.name }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"城市\" prop=\"city\">\n            <Select v-model=\"formAdd.city\" style=\"width:200px\">\n              <Option v-for=\"item in cityList1\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce1(item)\">{{ item.name }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"地区\" prop=\"area\">\n            <Select v-model=\"formAdd.area\" style=\"width:200px\">\n              <Option v-for=\"item in cityList2\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce2(item)\">{{ item.name }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"详细地址\" prop=\"address\">\n            <Input v-model=\"formAdd.address\" placeholder=\"\" v-on:input=\"mapInput\" style=\"margin-bottom: 5px;width:200px\"></Input>\n            <div class=\"map1\" v-show=\"maptu\">\n              <el-amap vid=\"amapDemo1\" class=\"amap\" :center=\"center2\" :zoom=\"zoom\">\n                <el-amap-marker v-for=\"marker in markers2\" :events=\"marker.events\" :position=\"center2\" vid=\"amapMarker1\" :clickable=\"true\"></el-amap-marker>\n                <!--<el-amap-info-window :position=\"center2\" :content='content2' :visible=\"modal412\" :events=\"infos2[0].events\"></el-amap-info-window>-->\n              </el-amap>\n            </div>\n          </FormItem>\n          <hr class=\"xiahuaxian\">\n          <FormItem label=\"优惠券(选填)\" prop=\"couponId\">\n          <Select v-model=\"formAdd.couponId\" style=\"width:200px\">\n            <Option v-for=\"item in youhui\" :value=\"item.name\" :key=\"item.Id\" @click.native=\"chioce11(item)\">{{ item.name }}  {{ item.price }}元</Option>\n          </Select>\n          <!--<Input v-model=\"formAdd.couponId\" placeholder=\"\" number></Input>-->\n          </FormItem>\n          <FormItem label=\"路费\" prop=\"roadfare\">\n            <Input v-model=\"formAdd.roadfare\" placeholder=\"\" style=\"width:200px\"></Input>\n          </FormItem>\n          <FormItem label=\"第三方订单号\" prop=\"thirdnumber\">\n            <Input v-model=\"formAdd.thirdnumber\" placeholder=\"\" style=\"width:200px\"></Input>\n          </FormItem>\n          <FormItem label=\"保修天数\" prop=\"payid\">\n            <Select v-model=\"formAdd.warrantytime\" style=\"width:200px\">\n              <Option v-for=\"item in xiutable\" :value=\"item.time\" :key=\"item.Id\" @click.native=\"chioce15(item)\">{{ item.time }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"关联订单\" prop=\"associated_orders\">\n            <Row>\n              <Col span=\"12\">\n                <Select\n                  v-model=\"model14\"\n                  multiple\n                  filterable\n                  remote\n                  @on-change=\"change\"\n                  :remote-method=\"remoteMethod2\"\n                  :loading=\"loading2\"\n                  style=\"width: 200px;\">\n                  <Option v-for=\"(option, index) in options2\" :value=\"option.Id\" :key=\"index\" style=\"width:200px\">{{option.number}}</Option>\n                </Select>\n              </Col>\n            </Row>\n            <!--<Select v-model=\"formAdd.associated_orders\" style=\"width:200px\">-->\n            <!--<Option v-for=\"item in pay\" :value=\"item.value\" :key=\"item.value\" @click.native=\"chioce8(item)\">{{ item.label }}</Option>-->\n            <!--</Select>-->\n          </FormItem>\n          <hr class=\"xiahuaxian\">\n          <FormItem label=\"订单类型\" prop=\"state\">\n            <Select v-model=\"formAdd.state\" style=\"width:200px\">\n              <Option v-for=\"item in stateid\" :value=\"item.value\" :key=\"item.value\" @click.native=\"chioce6(item)\">{{ item.label }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"订单状态\" prop=\"type\">\n            <Select v-model=\"formAdd.type\" style=\"width:200px\">\n              <Option v-for=\"item in typeid\" :value=\"item.value\" :key=\"item.value\" @click.native=\"chioce7(item)\">{{ item.label }}</Option>\n            </Select>\n            <!--<Input v-model=\"formAdd.type\" placeholder=\"\"></Input>-->\n          </FormItem>\n          <FormItem label=\"预约时间\" prop=\"appointment_time\">\n          <Row v-model=\"formAdd.appointment_time\" style=\"width:200px\">\n            <Col span=\"12\" style=\"margin-right: 10px\">\n              <DatePicker type=\"date\" placeholder=\"请选择日期\" style=\"width: 200px\" @on-change=\"changedate2\"></DatePicker>\n            </Col>\n            <Col span=\"12\" style=\"float: left\">\n              <TimePicker type=\"time\" placeholder=\"请选择时间\" style=\"width: 200px;\" @on-change=\"changetime\"></TimePicker>\n            </Col>\n          </Row>\n        </FormItem>\n          <FormItem label=\"支付状态\" prop=\"paystate\">\n            <Select v-model=\"formAdd.paystate\" style=\"width:200px\">\n              <Option v-for=\"item in paystate\" :value=\"item.value\" :key=\"item.value\" @click.native=\"chioce14(item)\">{{ item.label }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"支付渠道\" prop=\"payid\">\n          <Select v-model=\"formAdd.payid\" style=\"width:200px\">\n            <Option v-for=\"item in pay\" :value=\"item.Id\" :key=\"item.name\" @click.native=\"chioce8(item)\">{{ item.name }}</Option>\n          </Select>\n          <!--<Input v-model=\"formAdd.payid\" placeholder=\"\"></Input>-->\n        </FormItem>\n          <FormItem label=\"是否需要汇款\" prop=\"roadfare\">\n            <Input v-model=\"formAdd.paytypeItem\" placeholder=\"\" style=\"width:200px\" :readonly=\"readon\"></Input>\n          </FormItem>\n          <hr class=\"xiahuaxian\">\n      </Form>\n    </Modal>\n    <!--//修改弹框-->\n    <Modal\n      v-model=\"modal1\"\n      title=\"修改信息\"\n      :width=\"700\"\n      @on-ok=\"ok('formItem')\"\n      @on-cancel=\"cancel\"\n      :loading=\"loading1\">\n      <Form :model=\"formItem\" :label-width=\"80\" :rules=\"ruleValidate2\" ref=\"formItem\" :inline=\"true\">\n        <FormItem label=\"达人\" prop=\"uid\">\n          <Row style=\"float: left;margin-right: 3px\">\n            <Col span=\"12\">\n              <Select\n                v-model=\"model16\"\n                filterable\n                remote\n                style=\"width:200px\"\n                :clearable=\"true\"\n                placeholder=\"请选择达人或输入达人名称\"\n                :remote-method=\"remoteMethod16\"\n                :loading=\"loading16\">\n                <Option v-for=\"(item, index) in user16\" :value=\"item.Id\" :key=\"index\" style=\"width: 100px\">{{item.name}}</Option>\n              </Select>\n            </Col>\n          </Row>\n          <!--<Select v-model=\"formItem.uid\" style=\"width:200px\">-->\n            <!--<Option v-for=\"item in user\" :value=\"item.Id\" :key=\"item.Id\" @click.native=\"chioce10(item)\">{{ item.name }}</Option>-->\n          <!--</Select>-->\n          <!--<Input v-model=\"formAdd.uid\" placeholder=\"\" :maxlength='16'></Input>-->\n        </FormItem>\n        <FormItem label=\"维修方案\" prop=\"programme\">\n          <Input v-model=\"formItem.programme\" placeholder=\"\" style=\"width:200px\"></Input>\n        </FormItem>\n        <hr class=\"xiahuaxian\">\n        <FormItem label=\"设备\">\n          <Row style=\"float: left;margin-right: 3px\">\n            <Col span=\"12\">\n              <Select\n                v-model=\"formItem.eid\"\n                filterable\n                remote\n                style=\"width:200px\"\n                :clearable=\"true\"\n                placeholder=\"请输入设备关键字选择\"\n                :remote-method=\"remoteMethod6\"\n                :loading=\"loading6\">\n                <Option v-for=\"(item, index) in user6\" :value=\"item.equipment\" :key=\"index\" style=\"width: 100px\">{{item.equipment}}</Option>\n              </Select>\n            </Col>\n          </Row>\n          <!--<Select v-model=\"formItem.eid\" style=\"width:200px\">-->\n            <!--<Option v-for=\"item in shebei\" :value=\"item.equipment\" :key=\"item.id\" @click.native=\"chioceformItem5(item)\">{{ item.equipment }}</Option>-->\n          <!--</Select>-->\n          <!--<Input v-model=\"formItem.equipment\" placeholder=\"\"></Input>-->\n        </FormItem>\n        <FormItem label=\"具体故障\" prop=\"hitch\">\n          <Select v-model=\"formItem.hitch\" style=\"width:200px\">\n            <Option v-for=\"item in guzhangtable\" :value=\"item.hitch\" :key=\"item.Id\" @click.native=\"chiocegu(item)\">{{ item.hitch }}</Option>\n          </Select>\n          <!--<Input v-model=\"formAdd.specific\" placeholder=\"\" style=\"width:200px\"></Input>-->\n        </FormItem>\n        <FormItem label=\"颜色\" prop=\"color1\">\n          <Select v-model=\"formItem.color1\" style=\"width:200px\">\n            <Option v-for=\"item in colortable\" :value=\"item.colour\" :key=\"item.Id\" @click.native=\"chiocecolor(item)\">{{ item.colour }}</Option>\n          </Select>\n          <!--<Input v-model=\"formAdd.color\" placeholder=\"\" style=\"width:200px\"></Input>-->\n        </FormItem>\n        <FormItem label=\"金额\" prop=\"amount\">\n          <Input v-model=\"formItem.amount\" placeholder=\"\" style=\"width:200px\" :readonly=\"readon\"></Input>\n        </FormItem>\n        <hr class=\"xiahuaxian\">\n        <FormItem label=\"客服备注\" prop=\"customer_service\">\n          <Input v-model=\"formItem.customer_service\" placeholder=\"\" style=\"width:200px\"></Input>\n        </FormItem>\n        <FormItem label=\"备注图片\" prop=\"customer_img\">\n          <Upload\n            action=\"http://54.223.48.127/repair/public/admin/index/upd\"\n            :data=\"img1\"\n            ref=\"upload\"\n            :multiple=\"true\"\n            :format=\"['jpg','jpeg','png']\"\n            :show-upload-list=\"false\"\n            :before-upload=\"handleBeforUpload1\"\n            :on-success=\"handleSuccess1\">\n            <Button icon=\"ios-cloud-upload-outline\">点击上传</Button>\n          </Upload>\n        </FormItem>\n        <FormItem>\n          <div style=\"width: 100px;height: 100px;border: 1px darkgrey solid;float: left;margin-right: 5px\" v-for=\"img in formItem.customer_img\">\n            <img :src=\"img\" alt=\"请点击上传\" style=\"width: 100px;height: 100px\" v-model=\"formItem.customer_img\">\n          </div>\n        </FormItem>\n        <hr class=\"xiahuaxian\">\n        <FormItem label=\"客户\" prop=\"cid\">\n          <Row style=\"float: left;margin-right: 3px\">\n            <Col span=\"12\">\n              <Select\n                v-model=\"formItem.cid\"\n                filterable\n                remote\n                style=\"width:200px\"\n                :clearable=\"true\"\n                placeholder=\"请选择客户或输入客户名称\"\n                @on-clear=\"clear7\"\n                :remote-method=\"remoteMethod7\"\n                :loading=\"loading7\">\n                <Option v-for=\"(item, index) in user7\" :value=\"item.name\" :key=\"index\" style=\"width: 100px\">{{item.name}}</Option>\n              </Select>\n            </Col>\n          </Row>\n        </FormItem>\n        <FormItem label=\"手机号\" prop=\"userphone\">\n          <Input v-model=\"formItem.userphone\" placeholder=\"\" style=\"width:200px\"></Input>\n        </FormItem>\n        <FormItem label=\"省份\" prop=\"province\">\n          <Select v-model=\"formItem.province\" style=\"width:200px\">\n            <Option v-for=\"item in cityList\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce(item)\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"城市\" prop=\"city\">\n          <Select v-model=\"formItem.city\" style=\"width:200px\">\n            <Option v-for=\"item in cityList1\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce1(item)\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"地区\" prop=\"area\">\n          <Select v-model=\"formItem.area\" style=\"width:200px;float: left\">\n            <Option v-for=\"item in cityList2\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce2(item)\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"详细地址\" prop=\"address\">\n          <Input v-model=\"formItem.address\" placeholder=\"\" v-on:input=\"mapInput1\" style=\"width:200px;float: left\"></Input>\n          <div class=\"map1\" v-show=\"maptu1\">\n            <el-amap vid=\"amapDemo2\" class=\"amap\" :center=\"center3\" :zoom=\"zoom\">\n              <el-amap-marker :position=\"center3\" vid=\"amapMarker2\" :clickable=\"true\"></el-amap-marker>\n              <!--<el-amap-info-window :position=\"center3\" :content='content3' :visible=\"modal412\" :events=\"infos2[0].events\"></el-amap-info-window>-->\n            </el-amap>\n          </div>\n        </FormItem>\n        <hr class=\"xiahuaxian\">\n        <FormItem label=\"优惠券(选填)\" prop=\"couponId\">\n          <Select v-model=\"formItem.couponId\" style=\"width:200px\">\n            <Option v-for=\"item in youhui\" :value=\"item.Id\" :key=\"item.Id\" @click.native=\"chioce11(item)\">{{ item.name }}  {{ item.price }}元</Option>\n          </Select>\n          <!--<Input v-model=\"formAdd.couponId\" placeholder=\"\" number></Input>-->\n        </FormItem>\n        <FormItem label=\"路费\" prop=\"roadfare\">\n          <Input v-model=\"formItem.roadfare\" placeholder=\"\" style=\"width:200px\"></Input>\n        </FormItem>\n        <FormItem label=\"第三方订单号\" prop=\"thirdnumber\">\n          <Input v-model=\"formItem.thirdnumber\" placeholder=\"\" style=\"width:200px\"></Input>\n        </FormItem>\n        <FormItem label=\"保修天数\" prop=\"payid\">\n          <Select v-model=\"formItem.warrantytime\" style=\"width:200px\">\n            <Option v-for=\"item in xiutable\" :value=\"item.time\" :key=\"item.Id\" @click.native=\"chioce15(item)\">{{ item.time }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"关联订单\" prop=\"associated_orders\">\n          <Row>\n            <Col span=\"12\">\n              <Select\n                v-model=\"modelItem14\"\n                multiple\n                filterable\n                remote\n                @on-change=\"changeItem\"\n                :remote-method=\"remoteMethodItem2\"\n                :loading=\"loadingItem2\"\n                style=\"width: 200px;\">\n                <Option v-for=\"(option, index) in options2\" :value=\"option.Id\" :key=\"index\" style=\"width:200px\">{{option.number}}</Option>\n              </Select>\n            </Col>\n          </Row>\n          <!--<Select v-model=\"formAdd.associated_orders\" style=\"width:200px\">-->\n          <!--<Option v-for=\"item in pay\" :value=\"item.value\" :key=\"item.value\" @click.native=\"chioce8(item)\">{{ item.label }}</Option>-->\n          <!--</Select>-->\n        </FormItem>\n        <hr class=\"xiahuaxian\">\n        <FormItem label=\"订单类型\" prop=\"state\">\n          <Select v-model=\"formItem.state\" style=\"width:200px\">\n            <Option v-for=\"item in stateid\" :value=\"item.value\" :key=\"item.value\" @click.native=\"chioce6(item)\">{{ item.label }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"订单状态\" prop=\"type\">\n          <Select v-model=\"formItem.type\" style=\"width:200px\">\n            <Option v-for=\"item in typeid\" :value=\"item.value\" :key=\"item.value\" @click.native=\"chioce7(item)\">{{ item.label }}</Option>\n          </Select>\n          <!--<Input v-model=\"formAdd.type\" placeholder=\"\"></Input>-->\n        </FormItem>\n        <FormItem label=\"预约时间\" prop=\"appointment_time\">\n          <Row v-model=\"formItem.appointment_time\" style=\"width:200px\">\n            <Col span=\"12\" style=\"margin-right: 10px\">\n              <DatePicker type=\"date\" placeholder=\"请选择日期\" style=\"width: 200px\" @on-change=\"changedate\"></DatePicker>\n            </Col>\n            <Col span=\"12\" style=\"float: left\">\n              <TimePicker type=\"time\" placeholder=\"请选择时间\" style=\"width: 200px\" @on-change=\"changetime\"></TimePicker>\n            </Col>\n          </Row>\n        </FormItem>\n        <FormItem label=\"支付类型\" prop=\"paystate\">\n          <Select v-model=\"formItem.paystate\" style=\"width:200px\">\n            <Option v-for=\"item in paystate\" :value=\"item.value\" :key=\"item.value\" @click.native=\"chioceformItem14(item)\">{{ item.label }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"支付渠道\" prop=\"payid\">\n          <Select v-model=\"formItem.payid\" style=\"width:200px\">\n            <Option v-for=\"item in pay\" :value=\"item.Id\" :key=\"item.name\" @click.native=\"chioce8(item)\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"是否需要汇款\" prop=\"roadfare\">\n          <Input v-model=\"formItem.paytypeItem\" placeholder=\"\" style=\"width:200px\" :readonly=\"readon\"></Input>\n        </FormItem>\n        <hr class=\"xiahuaxian\">\n      </Form>\n    </Modal>\n    <!--//地图展示-->\n    <Modal\n      width=\"800\"\n      v-model=\"modalMap\"\n      title=\"查看地图\"\n      @on-ok=\"ok2\"\n      @on-cancel=\"cancel2\">\n      <Form :label-width=\"80\">\n        <FormItem label=\"地图详情\">\n          <div class=\"map\">\n            <el-amap vid=\"amapDemo\" class=\"amap\" :center=\"center\" :zoom=\"zoom\">\n              <el-amap-marker v-for=\"marker in markers\" :events=\"marker.events\" :position=\"center0\" vid=\"amapMarker\" :clickable=\"true\"></el-amap-marker>\n              <el-amap-info-window :position=\"center0\" :content='content' :visible=\"modal4\" :events=\"infos[0].events\"></el-amap-info-window>\n              <el-amap-marker v-for=\"marker in markers1\" :events=\"marker.events\" :position=\"center1\" vid=\"amapMarker\" :clickable=\"true\"></el-amap-marker>\n              <el-amap-info-window :position=\"center1\" :content='content1' :visible=\"modal41\" :events=\"infos1[0].events\"></el-amap-info-window>\n            </el-amap>\n          </div>\n        </FormItem>\n      </Form>\n    </Modal>\n    <!--//分页-->\n    <div style=\"text-align: right\">\n      <Page :total=\"dataCount\" :page-size=\"pageSize\" show-total class=\"paging\" @on-change=\"changepage\"></Page>\n    </div>\n  </div>\n</template>\n\n<script>\n  import tableDetail from './tableDetail.vue'\n  export default {\n    components: { tableDetail },\n    data () {\n      const validatePhone = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('手机号不能为空'));\n        } else if (!/^1[34578]\\d{9}$/.test(value)) {\n          callback('手机号格式不正确');\n        } else {\n          callback();\n        }\n      };\n      const validatePass = (rule, value, callback) => {\n        // 此时便能打印value值查看\n        // console.log(value,'打印值')\n      };\n      return {\n        readon:true,\n        pdffref:'',\n        maptu:false,\n        maptu1:false,\n        img1:{\n          image:[],\n          jwt:localStorage.getItem('jwt')\n        },\n        // img2:{\n        //   image:[],\n        //   jwt:localStorage.getItem('jwt')\n        // },\n        xiutable:[],\n        url1:[],\n        adddate:'',\n        adddate1:'',\n        addtime:'',\n        state:'',\n        state4:'',\n        type4:'',\n        type:'',\n        timeArry:[],\n        payid:'',\n        typeid:[\n          {\n            value: '1',\n            label: '上门'\n          },\n          {\n            value: '2',\n            label: '到店'\n          },\n          {\n            value: '3',\n            label: '售后'\n          }\n        ],\n        stateid:[\n          {\n            value: '1',\n            label: '未开始'\n          },\n          {\n            value: '2',\n            label: '进行'\n          },\n          {\n            value: '3',\n            label: '结束'\n          },\n          {\n            value: '4',\n            label: '疑难'\n          },\n          {\n            value: '5',\n            label: '正在上门'\n          }\n        ],\n        pay:[],\n        paystate:[\n          {\n            value: '1',\n            label: '已支付'\n          },\n          {\n            value: '2',\n            label: '未支付'\n          }\n        ],\n        model15: '',\n        model16: '',\n        loading15: false,\n        loading5: false,\n        loading6: false,\n        loading7: false,\n        loading16: false,\n        loading17: false,\n        model13: '',\n        model14: [],\n        modelItem14: [],\n        loading3: false,\n        loading2: false,\n        loadingItem2: false,\n        options2: [],\n        list: [],\n        list1:[],\n        list5:[],\n        list6:[],\n        list7:[],\n        list15:[],\n        list16:[],\n        list17:[],\n        list18:[],\n        file:'',\n        href:'',\n        csvArry:'',\n        ruleValidate: {\n          userphone: [\n            // { required: true, message: '不能为空', trigger: 'blur' },\n            {type: 'number',required:true,validator:validatePhone,message:'请输入正确的手机号',trigger:'change'}\n          ],\n          // uid: [\n          //   { required: true, message: '不能为空', trigger: 'blur' },\n          // ],\n          // address: [\n          //   { required: true, message: '不能为空', trigger: 'blur' },\n          // ],\n          programme: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n          ],\n          specific: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n          ]\n        },\n        ruleValidate2: {\n          name: [\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          phone: [\n            // { required: true, message: '不能为空', trigger: 'blur' },\n            {type: 'number',required:true,validator:validatePhone,message:'请输入正确的手机号',trigger:'change'}\n          ],\n          grade: [\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          arrangement:[\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          total: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n          ],\n          quota: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n          ],\n          pass: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n          ],\n          provinceid: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n          ],\n          cityid: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n          ],\n          areaid: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n          ]\n        },\n        searchName:'',\n        searchNum:'',\n        searchPhone:'',\n        cityList:[],\n        cityList1:[],\n        cityList2:[],\n        cityListId:'',\n        cityListId1:'',\n        cityListId2:'',\n        shengName:'',\n        shiName:'',\n        quName:'',\n        lei:[],\n        pinpai:[],\n        jixing:[],\n        shebei:[],\n        guzhangtable:[],\n        colortable:[],\n        // Nlei:'',\n        // Npinpai:'',\n        // Njixing:'',\n        equipment:'',\n        equipmentId:'',\n        equipmentId6:'',\n        gusesion:'',\n        colorsesion:'',\n        colorId:'',\n        gusesionId:'',\n        formAdd:{\n          uid:'',\n          cid:'',\n          amount:'',\n          couponId:'',\n          specific:'',\n          programme:'',\n          province:'',\n          city:'',\n          area:'',\n          address:'',\n          customer_service:'',\n          state:'',\n          appointment_time:'',\n          eid:'',\n          color1:'',\n          userphone:'',\n          paytypeItem:'',\n          customer_img:[],\n          type:'',\n          payid:'',\n          paystate:'',\n          roadfare:'',\n          thirdnumber:'',\n          warrantytime:'',\n          associated_orders:[],\n          jwt:localStorage.getItem('jwt')\n        },\n        formItem:{\n          Id:'',\n          uid:'',\n          cid:'',\n          couponId:'',\n          amount:'',\n          hitch:'',\n          paytypeItem:'',\n          programme:'',\n          province:'',\n          city:'',\n          area:'',\n          address:'',\n          customer_service:'',\n          state:'',\n          appointment_time:'',\n          jixing:'',\n          pinpai:'',\n          jixing1:'',\n          eid:'',\n          color1:'',\n          userphone:'',\n          customer_img:[],\n          type:'',\n          payid:'',\n          paystate:'',\n          roadfare:'',\n          thirdnumber:'',\n          warrantytime:'',\n          associated_orders:[],\n          jwt:localStorage.getItem('jwt')\n        },\n        formImg:{\n          Id:\"\",\n          img:null,\n          jwt:localStorage.getItem('jwt')\n        },\n        modal1: false,\n        modal2: false,\n        modal3:false,\n        modalMap:false,\n        modal4:true,\n        modal41:false,\n        modal412:true,\n        zoom:14,\n        zoom1:14,\n        center:[121.6292529148,31.2035397816],\n        center0:[121.6292529148,31.2035397816],\n        center1:[121.6292529148,31.2035397816],\n        center2:[114.30 ,30.57],\n        center3:[114.30 ,30.57],\n        // center:[],\n        content:'',\n        content1:'',\n        content2:'',\n        markers: [\n          {\n            events: {\n              click: () => {\n                this.modal4 = !this.modal4\n                //此处点击是有bug\n                // console.log('true电磁辐射的采访时说')\n              }\n            }\n          }\n        ],\n        markers1: [\n          {\n            events: {\n              click: () => {\n                this.modal41 = !this.modal41\n                //此处点击是有bug\n                // console.log('true')\n              }\n            }\n          }\n        ],\n        markers2: [\n          {\n            events: {\n              click: () => {\n                this.modal412 = !this.modal412\n                //此处点击是有bug\n                // console.log('true')\n              }\n            }\n          }\n        ],\n        infos: [\n          {\n            events: {\n              // open () {\n              //   this.modal4 = true\n              //   console.log('true1')\n              // },\n              close() {\n                this.modal4 = false\n                // console.log('false是的撒所多')\n              }\n            }\n          }\n        ],\n        infos1: [\n          {\n            events: {\n              // open () {\n              //   this.modal4 = true\n              //   console.log('true1')\n              // },\n              close() {\n                this.modal41 = false\n                // console.log('false')\n              }\n            }\n          }\n        ],\n        infos2: [\n          {\n            events: {\n              // open () {\n              //   this.modal4 = true\n              //   console.log('true1')\n              // },\n              close() {\n                this.modal412 = false\n                // console.log('false')\n              }\n            }\n          }\n        ],\n        loading: true,\n        loading1: true,\n        //    分页\n        ajaxHistoryData: [],\n        // 初始化信息总条数\n        dataCount: 0,\n        // 每页显示多少条\n        pageSize: 10,\n        page:1,\n        columns1: [\n          {\n            type: 'selection',\n            width: 60,\n            height: 20,\n            align: 'center'\n          },\n          {\n            title: '详情',\n            type: 'expand',\n            // width: 70,\n            render: (h, params) => {\n              return h(tableDetail, {\n                props: {\n                  row: params.row\n                }\n              })\n            }\n          },\n          {\n            title: '订单类型',\n            key: 'state',\n            render: (h, params) => {\n              return h('Tag', {\n                props: {\n                  color: params.row.state === 1 ? 'green' : params.row.state === 2 ? 'orange' : params.row.state === 3 ? 'red': params.row.state === 4 ? 'gray':params.row.state === 5 ? 'yellow':''\n                }\n              }, params.row.state === 1 ? '未开始' : params.row.state === 2 ? '进行' : params.row.state === 3 ? '结束' : params.row.state === 4 ? '疑难' : params.row.state === 5 ? '正在上门' : '');\n            }\n          },\n          {\n            title: '订单状态',\n            key: 'type',\n            render: (h, params) => {\n              return h('Tag', {\n                props: {\n                  color: params.row.type === 1 ? 'green' : params.row.type === 2 ? 'red' : params.row.type === 3 ? 'orange':''\n                }\n              }, params.row.type === 1 ? '上门' : params.row.type === 2 ? '到店' : params.row.type === 3 ? '售后' : '');\n            }\n          },\n          {\n            title: '是否需要汇款',\n            key: 'paytype',\n            render: (h, params) => {\n              return h('Tag', {\n                props: {\n                  color: params.row.paytype === 1 ? 'green' : params.row.paytype === 2 ? 'red' :''\n                }\n              }, params.row.paytype === 1 ? '汇款' : params.row.paytype === 2 ? '不汇款' : '');\n            }\n          },\n          {\n            title: '商品名称',\n            key: 'payname'\n          },\n          {\n            title: '机型大类',\n            key: 'category'\n          },\n          {\n            title: '预约金额',\n            key: 'total',\n            // width: 90\n          },\n          {\n            title: '预约时间',\n            key: 'appointment_time',\n            // width: 150\n          },\n          {\n            title: '编码',\n            key: 'number',\n            // width: 150\n          },\n          {\n            title: '客户名称',\n            key: 'customername',\n            // width: 100\n          },\n          {\n            title: '客户手机号',\n            key: 'userphone',\n            // width: 120\n          },\n          {\n            title: '达人手机号',\n            key: 'phone',\n          },\n          {\n            title: '操作',\n            key: 'action',\n            align: 'center',\n            width: 200,\n            render: (h, params) => {\n              return h('div', [\n                h('Button', {\n                  props: {\n                    type: 'info',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                    marginBottom: '5px',\n                    marginTop:'3px'\n                    // float:'left'\n                  },\n                  on: {\n                    click: () => {\n                      this.xiugai(params.row);\n                    }\n                  }\n                }, '修改'),\n                h('A', {\n                  attrs:{\n                    href: 'http://54.223.48.127/repair/public/admin/order/pdf?Id=' + params.row.Id,\n                    download: \"pdf\"\n                  },\n                  props: {\n                    type: 'info',\n                    size: 'small',\n                  },\n                  style: {\n                    width:'20px',\n                    marginRight: '5px',\n                    marginBottom: '5px',\n                    backgroundColor:'#f39800',\n                    color:'#fff',\n                    padding:'4.5px',\n                    borderRadius: '10%',\n                    marginTop:'0px',\n                    border:'1px solid #f39800'\n                  },\n                  on: {\n                    click: () => {\n                      this.daochu(params.row);\n                    }\n                  }\n                }, 'pdf导出'),\n                h('Button', {\n                  props: {\n                    type: 'info',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                    marginBottom: '5px',\n                    // float:'right'\n                  },\n                  attrs: {\n                    style: 'background-color:#9c56d8;border:1px solid #9c56d8'\n                  },\n                  on: {\n                    click: () => {\n                      this.map(params.row);\n                    }\n                  }\n                }, '查看地图'),\n                h('Button', {\n                  props: {\n                    type: 'info',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                    marginBottom: '5px',\n                    // float:'left'\n                  },\n                  attrs: {\n                    style: 'background-color:#d6514d;border:1px solid #d6514d'\n                  },\n                  on: {\n                    click: () => {\n                      this.delete(params.row);\n                    }\n                  }\n                }, '删除'),\n              ]);\n            }\n          }\n        ],\n        data1: [],\n        user:[],\n        user5:[],\n        user6:[],\n        user7:[],\n        cid:'',\n        cid1:'',\n        cusname:'',\n        cusname1:'',\n        user15:[],\n        user16:[],\n        user17:[],\n        cus17:{},\n        cus7:{},\n        user18:[],\n        usermoney:'',\n        youhui:[],\n        csv:[]\n      }\n    },\n    created() {\n      this.tableShow()\n      this.username()\n      // console.log(localStorage.getItem('Id'),'a参数123132')\n      // console.log(location.hash)\n    },\n    methods: {\n      //刷新\n      shuanew(){\n        this.$router.push({\n          path:'/o_management',\n          // query:{\n          //   Id:this.mapArry[a.target.Uh.vid].Id\n          // }\n        })\n        this.tableShow()\n      },\n      //复选框\n      select (selection) {\n        // console.log(\"select\")\n        // console.log(selection)\n        // console.log(selection,'单选1')\n        // for(var i = 0; i < selection.length; i ++){\n        //   this.csv[i]=selection[i].Id\n        // }\n        // console.log(this.csv,'单选')\n      },\n      selectChange(selection){\n        // console.log(\"seletctChange\")\n        // console.log(selection)\n        // console.log(selection,'2')\n        this.csvArry=\"\";\n        for(var i = 0; i < selection.length; i ++){\n          this.csv[i]=selection[i].Id\n          this.csvArry += 'Id[' + i + ']=' + this.csv[i]\n          if(i !=  selection.length-1){\n            this.csvArry  = this.csvArry + '&&'\n          }\n        }\n        // if(this.csv.length == 0){\n        //   this.href = ''\n        //   // this.$Message.error('请选择订单');\n        // }\n        this.href = 'http://192.168.8.107/repair/public/admin/order/csv?' + this.csvArry\n        // console.log(this.href,'选择改变')\n      },\n      // selectall (selection) {\n      //   // console.log(selection,'3')\n      //   // for(var i = 0; i < selection.length; i ++){\n      //   //   this.csv[i]=selection[i].Id\n      //   // }\n      //   // console.log(selection,'全选')\n      // },\n      //pdf导出\n      daochu(row){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/pdf',\n          data: this.$qs.stringify({\n            Id:row.Id,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //导出CVS\n      daochuc(){\n        // console.log( this.csv)\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/csv',\n          data: this.$qs.stringify({\n            Id:this.csv,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // this.download(res)\n          // console.log(res.data.table,'用户信息')\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //用户信息展示\n      tableShow(){\n        // console.log(this.$route.query.uid,'123')\n        // console.log(location.search,'123')\n        // console.log(this.$route.query.times!=null,'456')\n        if(this.$route.query.uid != null && this.$route.query.state != null && this.$route.query.times != null){//接收地图传值\n          // console.log(this.$route.query.times!=null,'456')\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/show',\n            data: this.$qs.stringify({\n              uid:this.$route.query.uid,\n              phone:this.searchPhone,\n              state:this.$route.query.state,\n              type:this.type4,\n              time:this.timeArry,\n              times:this.$route.query.times,\n              page:this.page,\n              jwt: localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(this.$route.query.Id,'获取id')\n            this.ajaxHistoryData = res.data.table;\n            this.list = res.data.table;\n            this.list1 = res.data.table;\n            this.options2 = res.data.table;\n            // console.log(res.data.table,'用户信息')\n            // console.log( this.list1,'用户信息2222')\n            this.dataCount = res.data.count;\n            // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n            if (res.data.count < this.pageSize) {\n              // this.historyData = this.ajaxHistoryData;\n              this.data1 = res.data.table\n            } else {\n              this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n            }\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n        }else if(this.$route.query.Id != null){\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/show',\n            data: this.$qs.stringify({\n              uid:this.model13,\n              phone:this.searchPhone,\n              state:this.state4,\n              type:this.type4,\n              time:this.timeArry,\n              page:this.page,\n              Id:localStorage.getItem('Id'),//接收地图传值\n              jwt: localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(this.$route.query.Id,'获取id')\n            this.ajaxHistoryData = res.data.table;\n            this.list = res.data.table;\n            this.list1 = res.data.table;\n            this.options2 = res.data.table;\n            // console.log(res.data.table,'用户信息')\n            // console.log( this.list1,'用户信息2222')\n            this.dataCount = res.data.count;\n            // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n            if (res.data.count < this.pageSize) {\n              // this.historyData = this.ajaxHistoryData;\n              this.data1 = res.data.table\n            } else {\n              this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n            }\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n        }else if(this.$route.query.uid != null&&this.$route.query.state != null){\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/show',\n            data: this.$qs.stringify({\n              uid:this.$route.query.uid,\n              phone:this.searchPhone,\n              state:this.$route.query.state,\n              type:this.type4,\n              time:this.timeArry,\n              page:this.page,\n              jwt: localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(this.$route.query.Id,'获取id')\n            this.ajaxHistoryData = res.data.table;\n            this.list = res.data.table;\n            this.list1 = res.data.table;\n            this.options2 = res.data.table;\n            // console.log(res.data.table,'用户信息')\n            // console.log( this.list1,'用户信息2222')\n            this.dataCount = res.data.count;\n            // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n            if (res.data.count < this.pageSize) {\n              // this.historyData = this.ajaxHistoryData;\n              this.data1 = res.data.table\n            } else {\n              this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n            }\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n        } else {\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/show',\n            data: this.$qs.stringify({\n              uid:this.model13,\n              phone:this.searchPhone,\n              state:this.state4,\n              type:this.type4,\n              time:this.timeArry,\n              page:this.page,\n              jwt: localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(this.$route.query.Id,'获取id')\n            this.ajaxHistoryData = res.data.table;\n            this.list = res.data.table;\n            this.list1 = res.data.table;\n            this.options2 = res.data.table;\n            // console.log(res.data.table,'用户信息')\n            // console.log( this.list1,'用户信息2222')\n            this.dataCount = res.data.count;\n            // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n            if (res.data.count < this.pageSize) {\n              // this.historyData = this.ajaxHistoryData;\n              this.data1 = res.data.table\n            } else {\n              this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n            }\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n        }\n\n      },\n      //pdf导出\n      daochu(row){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/pdf',\n          data: this.$qs.stringify({\n            Id:row.Id,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //查看地图\n      map(row){\n          // console.log(row,'产看地图')\n          this.modalMap=true\n          this.center0=[row.marker[0].longitude,row.marker[0].latitude]\n          this.center1=[row.marker[1].longitude,row.marker[1].latitude]\n          // console.log(row.useradress,'content0产看地图')\n          // console.log(row.orderadress,'content1产看地图1111111')\n          // this.center=row.marker\n          // this.center[0]=row.longitude\n          // this.center[1]=row.latitude     此方式错误不显示\n          this.content = row.useradress\n          this.content1 = row.orderadress\n      },\n      ok2 () {\n        this.tableShow()\n      },\n      cancel2 () {\n        this.tableShow()\n      },\n      //搜索\n      Schioce4(item){\n        // console.log(item)\n        this.state4=item.value\n\n      },\n      Schioce5(item){\n        // console.log(item)\n        this.type4=item.value\n      },\n      Schioce6(item){\n        // console.log(item)\n        this.searchNum=item.Id\n      },\n      //客户\n      cus(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/customer/show',\n          data: this.$qs.stringify({\n            // name:query,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息1100')\n          this.list17 = res.data.table\n          this.user17 = res.data.table\n          this.list7 = res.data.table\n          this.user7 = res.data.table\n\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      remoteMethod1 (query) {\n        // console.log(query,'skjfdasfkasd')\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/show',\n          data: this.$qs.stringify({\n            name:query,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          this.list = res.data.table\n          // console.log(this.list,'用户信息11')\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        if (query !== '') {\n          this.loading3 = true;\n          setTimeout(() => {\n            this.loading3 = false;\n            this.user = this.list;\n          }, 200);\n        } else {\n          this.user = [];\n        }\n        // console.log(this.model13)\n      },\n      remoteMethod5 (query) {\n        // console.log(query,'skjfdasfkasd')\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/vagueequipment',\n          data: this.$qs.stringify({\n            equipment:query,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息11')\n          this.list5 = res.data.table\n          this.user5 = res.data.table\n          this.equipmentId = res.data.table[0].Id\n          this.guzhang()\n          this.color()\n          // console.log(this.list,'用户信息11')\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        if (query !== '') {\n          this.loading5 = true;\n          setTimeout(() => {\n            this.loading5 = false;\n            this.user5 = this.list5;\n          }, 200);\n        } else {\n          this.user5 = [];\n        }\n        // console.log(this.model13)\n      },\n      remoteMethod6 (query) {\n        // console.log(query,'skjfdasfkasd')\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/vagueequipment',\n          data: this.$qs.stringify({\n            equipment:query,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息11')\n          this.list6 = res.data.table\n          this.user6 = res.data.table\n          this.equipmentId6 = res.data.table[0].Id\n          //故障\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/hitch',\n            data: this.$qs.stringify({\n              equipmentId: this.equipmentId6,\n              jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res.data.table,'故障')\n            this.guzhangtable=res.data.table\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n          //颜色\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/colour',\n            data: this.$qs.stringify({\n              equipmentId: this.equipmentId6,\n              hitch: this.gusesion,\n              jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res,'颜色')\n            this.colortable=res.data.table\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n          // console.log(this.list,'用户信息11')\n        }).catch(res => {\n          // this.$Message.error('请求超时,请稍后再试...');\n        });\n        if (query !== '') {\n          this.loading6 = true;\n          setTimeout(() => {\n            this.loading6 = false;\n            this.user6 = this.list6;\n          }, 200);\n        } else {\n          this.user6 = [];\n        }\n        // console.log(this.model13)\n      },\n      remoteMethod7 (query) {\n        // console.log(query,'skjfdasfkasd')\n        // this.tableShow()\n        this.$axios({\n          method: 'post',\n          url: 'admin/customer/show',\n          data: this.$qs.stringify({\n            name:query,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table[0],'用户信息1100')\n          // console.log(typeof(res.data.table[0].Id),'用户信息1100')\n          this.list7 = res.data.table\n          this.cus7 = res.data.table[0]\n          if(typeof(res.data.table[0]) === 'undefined'){\n            this.formItem.userphone = ''\n            this.formItem.province = ''\n            // this.cid1 = this.cus17.Id\n            this.cusname1 = query\n            this.formItem.city = ''\n            this.formItem.area = ''\n            // console.log('wu修改客户')\n            // this.cityListId=this.cus7.provinceid\n            // this.cityListId1=this.cus7.cityid\n            // this.cityListId2=this.cus7.areaid\n            this.formItem.address = ''\n            // console.log(this.cusname1,'无客户二胡额额㛑额额')\n          }else {\n            // console.log('you修改客户')\n\n            //省\n            this.$axios({\n              url: 'admin/user/adress',\n              method: 'get',\n            }).then(res => {\n              // console.log(res,'12345')\n              this.cityList = res.data.table\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...')\n            });\n\n            //市\n            this.$axios({\n              method: 'post',\n              url: 'admin/user/getRegion',\n              data: this.$qs.stringify({\n                id: res.data.table[0].provinceid,\n                type: 1,\n                // jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'市三级联动')\n              this.cityList1=res.data\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n\n            //区\n            this.$axios({\n              method: 'post',\n              url: 'admin/user/getRegion',\n              data: this.$qs.stringify({\n                id: res.data.table[0].cityid,\n                type: 2,\n                // jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'市三级联动')\n              this.cityList2=res.data\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n\n            this.formItem.userphone = this.cus7.phone\n            // this.formItem.province = this.cus7.province\n            // this.formItem.city = this.cus7.city\n            // this.formItem.area = this.cus7.area\n            // console.log(this.formItem.area,'市的方式发生三级联动')\n            this.formItem.address = this.cus7.address\n            this.cid1 = this.cus7.Id\n            // console.log(this.cid1,'有客户市三级联动')\n            this.cityListId=this.cus7.provinceid\n            this.cityListId1=this.cus7.cityid\n            this.cityListId2=this.cus7.areaid\n\n          }\n\n\n        }).catch(res => {\n          // this.$Message.error('请求超时,请稍后再试...');\n        });\n        if (query !== '') {\n          this.loading7 = true;\n          setTimeout(() => {\n            this.loading7 = false;\n            this.user7 = this.list7;\n          }, 200);\n        } else {\n          this.user7 = [];\n        }\n        // console.log(this.user17)\n        // console.log(this.list17)\n      },\n      clear7(){\n        // console.log('123')\n        this.cid1 = ''\n        this.formItem.userphone = ''\n        this.formItem.province = ''\n        this.formItem.city = ''\n        this.formItem.area = ''\n        this.formItem.address = ''\n        this.cus()\n      },\n      remoteMethod15 (query) {\n        // console.log(query,'skjfdasfkasd')\n        // this.tableShow()\n\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/show',\n          data: this.$qs.stringify({\n            name:query,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          this.list15 = res.data.table\n          this.usermoney = res.data.table[0].Id\n\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n\n        //优惠券\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/coupon',\n          data: this.$qs.stringify({\n            uid: this.usermoney,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n          this.youhui = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        if (query !== '') {\n          this.loading15 = true;\n          setTimeout(() => {\n            this.loading15 = false;\n            this.user15 = this.list15;\n          }, 200);\n        } else {\n          this.user15 = [];\n        }\n        // console.log(this.model13)\n      },\n      clear15(){\n        // console.log('123')\n        this.formAdd.uid = ''\n        this.username()\n      },\n      remoteMethod16 (query) {\n        // console.log(query,'skjfdasfkasd')\n        // this.tableShow()\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/show',\n          data: this.$qs.stringify({\n            name:query,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          this.list16 = res.data.table\n          this.usermoney = res.data.table[0].Id\n          // console.log(this.list16,'用户信息11')\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        if (query !== '') {\n          this.loading16 = true;\n          setTimeout(() => {\n            this.loading16 = false;\n            this.user16 = this.list16;\n          }, 200);\n        } else {\n          this.user16 = [];\n        }\n        // console.log(this.model13)\n      },\n      remoteMethod17 (query) {\n        // console.log(query,'skjfdasfkasd')\n        // this.tableShow()\n        this.$axios({\n          method: 'post',\n          url: 'admin/customer/show',\n          data: this.$qs.stringify({\n            name:query,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n\n          this.list17 = res.data.table\n\n          // this.cid = this.cus17.Id\n          // console.log(typeof(res.data.table[0].Id),'11111111')\n          // console.log(typeof(res.data.table[0].Id) == typeof(3))\n          if(typeof(res.data.table[0].Id) == typeof(3)){\n\n            this.cus17 = res.data.table[0]\n            this.formAdd.userphone = this.cus17.phone\n            this.formAdd.province = this.cus17.province\n\n\n            //省\n            this.$axios({\n              url: 'admin/user/adress',\n              method: 'get',\n            }).then(res => {\n              // console.log(res,'12345')\n              this.cityList = res.data.table\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...')\n            });\n\n            //市\n            this.$axios({\n              method: 'post',\n              url: 'admin/user/getRegion',\n              data: this.$qs.stringify({\n                id: res.data.table[0].provinceid,\n                type: 1,\n                // jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'市三级联动')\n              this.cityList1=res.data\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n\n            //区\n            this.$axios({\n              method: 'post',\n              url: 'admin/user/getRegion',\n              data: this.$qs.stringify({\n                id: res.data.table[0].cityid,\n                type: 2,\n                // jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'市三级联动')\n              this.cityList2=res.data\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            this.formAdd.city = this.cus17.city\n            this.formAdd.area = this.cus17.area\n\n            this.cityListId=this.cus17.provinceid\n            this.cityListId1=this.cus17.cityid\n            this.cityListId2=this.cus17.areaid\n            this.formAdd.address = this.cus17.address\n            this.cid = this.cus17.Id\n\n          }else {\n\n            // console.log(typeof(res.data.table[0].Id),'1222222222222nei')\n            this.formAdd.cid = ''\n            this.formAdd.userphone = ''\n            this.formAdd.province = ''\n            this.formAdd.city = ''\n            this.formAdd.area = ''\n            this.formAdd.address = ''\n            this.cusname = query\n            // console.log(this.cusname,'无客户')\n\n          }\n\n\n        }).catch(res => {\n          // this.$Message.error('请求超时,请稍后再试...');\n        });\n        if (query !== '') {\n          this.loading17 = true;\n          setTimeout(() => {\n            this.loading17 = false;\n            this.user17 = this.list17;\n          }, 200);\n        } else {\n          this.user17 = [];\n        }\n        // console.log(this.user17)\n        // console.log(this.list17)\n      },\n      clear17(){\n        // console.log('123')\n        this.formAdd.cid = ''\n        this.formAdd.userphone = ''\n        this.formAdd.province = ''\n        this.formAdd.city = ''\n        this.formAdd.area = ''\n        // this.cityListId=''\n        // this.cityListId1=''\n        // this.cityListId2=''\n        this.formAdd.address = ''\n        this.cus()\n      },\n      handSeek(){\n        this.tableShow()\n      },\n      //新增\n      add(){\n        this.modal3=true\n        this.remoteMethod15()\n        this. weixiu()\n        //客户详情\n        this.$axios({\n          url: 'admin/customer/show',\n          method: 'post',\n          data: this.$qs.stringify({\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'12345客户详情')\n          this.list17 = res.data.table\n          this.user17 = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...')\n        });\n        //省联动\n        this.$axios({\n          url: 'admin/user/adress',\n          method: 'get',\n        }).then(res => {\n          // console.log(res,'12345')\n          this.cityList = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...')\n        });\n        //支付方式\n        this.$axios({\n          method: 'post',\n          url: 'admin/Pay/show',\n          data: this.$qs.stringify({\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'支付方式')\n          this.pay=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        //机型大类\n        this.jiixnglei()\n        this. username()\n\n      },\n      //用户列表\n      username(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/show',\n          data: this.$qs.stringify({\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n          this.user = res.data.table\n          this.list16 = res.data.table\n          this.list15 = res.data.table\n          this.user15 = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //省联动\n      chioce(item){\n        // console.log(JSON.stringify(item),'12345')\n        // console.log(item,'1234554321')\n        this.shengName = item.name\n        this.cityListId=item.id\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/getRegion',\n          data: this.$qs.stringify({\n            id: item.id,\n            type: item.type\n            // jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'市三级联动')\n          this.cityList1=res.data\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //市联动\n      chioce1(item){\n        // console.log(JSON.stringify(item),'12345')\n        this.shiName = item.name\n        this.cityListId1=item.id\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/getRegion',\n          data: this.$qs.stringify({\n            id: item.id,\n            type: item.type\n            // jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'市三级联动')\n          this.cityList2=res.data\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //区联动\n      chioce2(item){\n        this.cityListId2=item.id\n        this.quName = item.name\n      },\n      //获取地图坐标点\n      mapInput(){\n        // console.log(this.formAdd.address,'123456')\n        this.maptu = true\n        // if(this.formAdd.address==!null){\n        //   this.maptu = true\n        // }else {\n        //   this.maptu = false\n        // }\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/query',\n          data: this.$qs.stringify({\n            address: this.shengName + this.shiName + this.quName + this.formAdd.address,\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table.location.lng,'市三级联动')\n          // this.maoOrder=res.data.tabel\n          // this.center1=[row.marker[1].longitude,row.marker[1].latitude]\n          this.center2=[res.data.table.location.lng,res.data.table.location.lat]\n          // this.center2=[114.30 ,30.57]\n          // console.log(this.center2,'市三级联动')\n        }).catch(res => {\n          // this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      mapInput1(){\n        // console.log(this.formAdd.address,'123456')\n        this.maptu1 = true\n        // if(this.formAdd.address==!null){\n        //   this.maptu = true\n        // }else {\n        //   this.maptu = false\n        // }\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/query',\n          data: this.$qs.stringify({\n            address: this.shengName + this.shiName + this.quName + this.formAdd.address,\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table.location.lng,'市三级联动')\n          // this.maoOrder=res.data.tabel\n          // this.center1=[row.marker[1].longitude,row.marker[1].latitude]\n          this.center3=[res.data.table.location.lng,res.data.table.location.lat]\n          // this.center2=[114.30 ,30.57]\n          // console.log(this.center2,'市三级联动')\n        }).catch(res => {\n          // this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //维修日期\n      weixiu(){\n        this.$axios({\n          method: 'get',\n          url: 'admin/Warrantytime/show',\n          // data: this.$qs.stringify({\n          //   jwt:localStorage.getItem('jwt')\n          // })\n        }).then(res => {\n          // console.log(res,'weixiu')\n          this.xiutable=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      remoteMethod2 (query) {\n        this.tableShow()\n        if (query !== '') {\n          this.loading2 = true;\n          setTimeout(() => {\n            this.loading2 = false;\n            this.options2 = this.list1;\n            // console.log(this.options2,'多选')\n            // const list = this.list.map(item => {\n            //   return {\n            //     value: item,\n            //     label: item\n            //   };\n            // });\n\n          }, 200);\n        } else {\n          this.options2 = [];\n        }\n        // console.log(this.options2,'多选')\n      },\n      change(value){\n        // console.log(value,'gaibhian')\n        this.formAdd.associated_orders = value\n        // console.log(this.formAdd.associated_orders,'132223gaibhian')\n      },\n      //设备\n      shebeilei(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/vagueequipment',\n          data: this.$qs.stringify({\n            // category: this.Nlei,\n            // brand: this.Npinpai,\n            equipment: this.equipment,\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'设备')\n          this.shebei=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //故障\n      guzhang(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/hitch',\n          data: this.$qs.stringify({\n            equipmentId: this.equipmentId,\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'故障')\n          this.guzhangtable=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //颜色\n      color(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/colour',\n          data: this.$qs.stringify({\n            equipmentId: this.equipmentId,\n            hitch: this.gusesion,\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'颜色')\n          this.colortable=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      chioce9(item){\n        // console.log(item,'品牌1')\n        this.Nlei=item.category\n        //品牌\n        this.pinpailei()\n      },\n      chioce3(item){\n        // console.log(item,'品牌1')\n        this.Npinpai=item.brand\n        this.jixinglei1()\n      },\n      //机型\n      chioce4(item){\n        // console.log(item,'机型1')\n        this.Njixing=item.version\n        this.shebeilei()\n      },\n      //设备\n      chioce5(item){\n        // console.log(item,'设备')\n        this.Nshebei=item.equipment\n        this.formAdd.eid = item.Id\n        this.guzhang()\n      },\n      chioceformItem5(item){\n        // console.log(item,'设备')\n        this.Nshebei=item.equipment\n        this.formItem.eid = item.Id\n        this.guzhang()\n      },\n      chiocegu(item){\n        // console.log(item,'故障11111')\n        this.gusesion = item.hitch\n        this.gusesionId = item.Id\n        this.formAdd.amount = item.amount\n        this.formItem.amount = item.amount\n        this.color()\n      },\n      chiocecolor(item){\n        // console.log(item,'故障11111')\n        this.colorsesion = item.color\n        this.colorId = item.Id\n        this.formAdd.amount = item.amount\n      },\n      chioce6(item){\n        // console.log(item,'订单类型')\n        this.formAdd.state = item.value\n        this.formItem.state = item.value\n      },\n      chioce7(item){\n        // console.log(item,'订单状态')\n        this.formAdd.type = item.value\n        this.formItem.type = item.value\n      },\n      chioce8(item){\n        // console.log(item,'支付方式')\n        this.formAdd.payid = item.Id\n        this.formItem.payid = item.Id\n        if(item.pay_type == 1){\n          this.formItem.paytypeItem = '需要汇款'\n          this.formAdd.paytypeItem = '需要汇款'\n        }else if(item.pay_type == 2){\n          this.formItem.paytypeItem = '不需要汇款'\n          this.formAdd.paytypeItem = '不需要汇款'\n        }\n      },\n      chioce10(item){\n        // console.log(item,'yonghu')\n        this.formAdd.uid = item.Id\n        this.formItem.uid = item.Id\n        //优惠券\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/coupon',\n          data: this.$qs.stringify({\n            uid: item.Id,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n          this.youhui = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      chioce11(item){\n        // console.log(item,'yoouhuiquan')\n        this.formAdd.couponId = item.Id\n        this.formItem.couponId = item.Id\n      },\n      chioce14(item){\n        // console.log(item,'yoouhuiquan')\n        this.formAdd.paystate = item.Id\n      },\n      chioceformItem14(item){\n        // console.log(item,'yoouhuiquan')\n        this.formItem.paystate = item.Id\n      },\n      chioce15(item){\n        // console.log(item,'yoouhuiquan')\n        this.formAdd.warrantytime = item.time\n        this.formItem.warrantytime = item.time\n      },\n      chioce16(item){\n        // console.log(item,'yoouhuiquan')\n        // this.formAdd.warrantytime = item.time\n      },\n      changedateSou(res){\n        // console.log(res,'时间内')\n        this.timeArry[0]=res\n      },\n      changedate(res){\n        // console.log(res,'时间内')\n        this.adddate=res\n      },\n      changedateSou1(res){\n        // console.log(res,'时间内')\n        this.adddate1=res\n        this.timeArry[1]=res\n      },\n      changedate2(res){\n        // console.log(res,'时间内')\n        this.adddate=res\n      },\n      changetime(res){\n        // console.log(res,'分钟时间内')\n        this.addtime=res\n      },\n      handleBeforUpload1 (file) {\n        this.img1.image = file  // 将回调的文件信息存入data.file\n      },\n      handleSuccess1(response){\n        // console.log(response,'图片')\n        this.formAdd.customer_img.push(response.url)\n        this.formItem.customer_img.push(response.url)\n        // console.log(this.formAdd.customer_img,'图片1')\n      },\n      ok3 (formAdd) {\n        console.log(typeof(this.cid),'验证')\n        // console.log(typeof(this.cid) == typeof(2),'验证')\n        if(typeof(this.cid) == typeof(2)){\n          this.$refs[formAdd].validate((valid) => {\n            if (valid) {\n              this.$axios({\n                method: 'post',\n                url: 'admin/order/insert',\n                data: this.$qs.stringify({\n                  uid:this.usermoney,\n                  cid:this.cid,\n                  // cid:this.cusname,\n                  couponId:this.formAdd.couponId,\n                  // specific:this.formAdd.specific,\n                  programme:this.formAdd.programme,\n                  province: this.cityListId,\n                  city: this.cityListId1,\n                  area:this.cityListId2,\n                  address:this.formAdd.address,\n                  customer_service:this.formAdd.customer_service,\n                  state:this.formAdd.state,\n                  appointment_time:this.adddate + ' ' + this.addtime,\n                  eid:this.gusesionId,\n                  color:this.formAdd.color1,\n                  userphone:this.formAdd.userphone,\n                  customer_img:this.formAdd.customer_img,\n                  type:this.formAdd.type,\n                  payid:this.formAdd.payid,\n                  paystate:this.formAdd.paystate,\n                  roadfare:this.formAdd.roadfare,\n                  thirdnumber:this.formAdd.thirdnumber,\n                  warrantytime:this.formAdd.warrantytime,\n                  associated_orders:this.formAdd.associated_orders,\n                  jwt:localStorage.getItem('jwt')\n                })\n              }).then(res => {\n                // console.log(res,'用户增加')\n                this.tableShow()\n                this.modal3 = false\n                this.formAdd = {}\n              }).catch(res => {\n                this.modal3 = false\n                this.tableShow()\n                this.formAdd = {}\n                this.$Message.error('请求超时,请稍后再试...');\n              });\n              callback();\n            } else{\n              this.loading = false;\n              this.$nextTick(() => {\n                this.loading = true;\n              });\n              this.$Message.error('新增失败，请填写完整的信息!');\n            }\n          })\n        }else {\n          this.$refs[formAdd].validate((valid) => {\n            if (valid) {\n              this.$axios({\n                method: 'post',\n                url: 'admin/order/insert',\n                data: this.$qs.stringify({\n                  uid:this.usermoney,\n                  // cid:this.cid,\n                  cid:this.cusname,\n                  couponId:this.formAdd.couponId,\n                  // specific:this.formAdd.specific,\n                  programme:this.formAdd.programme,\n                  province: this.cityListId,\n                  city: this.cityListId1,\n                  area:this.cityListId2,\n                  address:this.formAdd.address,\n                  customer_service:this.formAdd.customer_service,\n                  state:this.formAdd.state,\n                  appointment_time:this.adddate + ' ' + this.addtime,\n                  eid:this.gusesionId,\n                  color:this.formAdd.color1,\n                  userphone:this.formAdd.userphone,\n                  customer_img:this.formAdd.customer_img,\n                  type:this.formAdd.type,\n                  payid:this.formAdd.payid,\n                  paystate:this.formAdd.paystate,\n                  roadfare:this.formAdd.roadfare,\n                  thirdnumber:this.formAdd.thirdnumber,\n                  warrantytime:this.formAdd.warrantytime,\n                  associated_orders:this.formAdd.associated_orders,\n                  jwt:localStorage.getItem('jwt')\n                })\n              }).then(res => {\n                // console.log(res,'用户增加')\n                this.formAdd = {}\n                this.tableShow()\n                this.modal3 = false\n\n              }).catch(res => {\n                this.modal3 = false\n                this.tableShow()\n                this.formAdd = {}\n                this.$Message.error('请求超时,请稍后再试...');\n              });\n              callback();\n            } else{\n              this.loading = false;\n              this.$nextTick(() => {\n                this.loading = true;\n              });\n              this.$Message.error('新增失败，请填写完整的信息!');\n            }\n          })\n        }\n\n        this.tableShow()\n        this.formAdd = {}\n      },\n      cancel3 () {\n        this.tableShow()\n        this.formAdd = {}\n        // this.$Message.info('Clicked cancel');\n      },\n      //用户修改\n      xiugai(row){\n        // console.log(row)\n        // this. username()\n        this.modal1=true\n        // this.formItem=row\n\n        //达人\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/show',\n          data: this.$qs.stringify({\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n          this.user = res.data.table\n          this.user16 = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        //优惠券\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/coupon',\n          data: this.$qs.stringify({\n            uid: row.uid,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n          this.youhui = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        //支付方式\n        this.$axios({\n          method: 'post',\n          url: 'admin/Pay/show',\n          data: this.$qs.stringify({\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'支付方式')\n          this.pay=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        //客户详情\n        this.$axios({\n          url: 'admin/customer/show',\n          method: 'post',\n          data: this.$qs.stringify({\n            jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'12345')\n          this.list7 = res.data.table\n          this.user7 = res.data.table\n\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...')\n        });\n        //省\n        this.$axios({\n          url: 'admin/user/adress',\n          method: 'get',\n        }).then(res => {\n          // console.log(res,'12345')\n          this.cityList = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...')\n        });\n        //市\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/getRegion',\n          data: this.$qs.stringify({\n            id: row.provinceid,\n            type: 1,\n            // jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'市三级联动')\n          this.cityList1=res.data\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        //区\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/getRegion',\n          data: this.$qs.stringify({\n            id: row.cityid,\n            type: 2,\n            // jwt:localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'市三级联动')\n          this.cityList2=res.data\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n        //设备\n          this.$axios({\n            method: 'post',\n            url: 'admin/order/vagueequipment',\n            data: this.$qs.stringify({\n              equipment: row.equipment,\n              jwt:localStorage.getItem('jwt')\n            })\n          }).then(res => {\n            // console.log(res.data.table,'设备')\n            this.shebei=res.data.table\n            //故障\n            this.$axios({\n              method: 'post',\n              url: 'admin/order/hitch',\n              data: this.$qs.stringify({\n                equipmentId: this.shebei[0].Id,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res.data.table,'故障')\n              this.guzhangtable=res.data.table\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            //颜色\n            this.$axios({\n              method: 'post',\n              url: 'admin/order/colour',\n              data: this.$qs.stringify({\n                equipmentId: this.shebei[0].Id,\n                hitch: row.hitch,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'颜色')\n              this.colortable=res.data.table\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n          }).catch(res => {\n            this.$Message.error('请求超时,请稍后再试...');\n          });\n\n        // this.formItem.uid=''\n        this.formItem.Id=row.Id\n        this.cityListId=row.provinceid\n        this.cityListId1=row.cityid\n        this.cityListId2=row.areaid\n        this.formItem.programme=row.programme\n        this.formItem.customer_service=row.customer_service\n        this.formItem.userphone=row.userphone\n        this.formItem.province=row.province\n        this.formItem.city=row.city\n        this.formItem.area=row.area\n        this.formItem.address=row.address\n        // this.formItem.cid=row.customername\n        this.formItem.roadfare=row.roadfare\n        this.formItem.thirdnumber=row.thirdnumber\n        this.formItem.customer_img=row.customer_img\n        // this.formItem.thirdnumber=row.thirdnumber\n        this.formItem.eid=row.equipment\n        this.formItem.hitch=row.hitch\n        this.formItem.color1=row.colour\n        this.gusesionId = row.specific\n        this.formItem.amount = row.originalprice\n        // this.formItem.warrantytime=row.warrantytime\n        // this.add()\n        this.weixiu()\n\n        // console.log(this.user7,'客户最后')\n        // this.jiixnglei()\n\n        //订单状态\n        if(row.paytype == 1){\n          this.formItem.paytypeItem = '需要汇款'\n        }else if(row.paytype == 2){\n          this.formItem.paytypeItem = '不需要汇款'\n        }\n        //订单状态\n        if(row.type == 1){\n          this.formItem.type = '上门'\n        }else if(row.type == 2){\n          this.formItem.type = '到店'\n        }else if(row.type == 3){\n          this.formItem.type = '售后'\n        }\n        //订单类型\n        if(row.state == 1){\n          this.formItem.state = '未开始'\n        }else if(row.state == 2){\n          this.formItem.state = '进行'\n        }else if(row.state == 3){\n          this.formItem.state = '结束'\n        }else if(row.state == 4){\n          this.formItem.state = '疑难'\n        }else if(row.state == 5){\n          this.formItem.state = '正在上门'\n        }\n        支付方式\n        if(row.payid == 1){\n          this.formItem.payid = '汇款'\n        }else if(row.payid == 2){\n          this.formItem.payid = '不汇款'\n        }\n        //支付状态\n        if(row.paystate == 1){\n          this.formItem.paystate = '已支付'\n        }else if(row.paystate == 2){\n          this.formItem.paystate = '未支付'\n        }\n\n      },\n      remoteMethodItem2 (query) {\n        this.tableShow()\n        if (query !== '') {\n          this.loadingItem2 = true;\n          setTimeout(() => {\n            this.loadingItem2 = false;\n            this.options2 = this.list1;\n          }, 200);\n        } else {\n          this.options2 = [];\n        }\n        // console.log(this.options2,'多选')\n      },\n      changeItem(value){\n        // console.log(value,'gaibhian')\n        this.formItem.associated_orders = value\n        // console.log(this.formAdd.associated_orders,'132223gaibhian')\n      },\n      ok (formItem) {\n        // console.log(this.gusesionId,'113465654')\n        // this.modal3=false\n        // console.log(this.usermoney,'remoteMethod15')\n        // console.log('remoteMethod15')\n        // console.log(this.cid1)\n        if(typeof(this.cid1) == typeof(2)){\n          // console.log(this.cid1)\n          this.$refs[formItem].validate((valid) => {\n            if (valid) {\n              this.$axios({\n                method: 'post',\n                url: 'admin/order/upd',\n                data: this.$qs.stringify({\n                  Id:this.formItem.Id,\n                  uid:this.usermoney,\n                  cid:this.cid1,\n                  couponId:this.formItem.couponId,\n                  // specific:this.formItem.specific,\n                  programme:this.formItem.programme,\n                  province: this.cityListId,\n                  city: this.cityListId1,\n                  area:this.cityListId2,\n                  address:this.formItem.address,\n                  customer_service:this.formItem.customer_service,\n                  state:this.formItem.state,\n                  appointment_time:this.adddate + ' ' + this.addtime,\n                  eid:this.gusesionId,\n                  color:this.formItem.color1,\n                  userphone:this.formItem.userphone,\n                  customer_img:this.formItem.customer_img,\n                  type:this.formItem.type,\n                  payid:this.formItem.payid,\n                  paystate:this.formItem.paystate,\n                  roadfare:this.formItem.roadfare,\n                  thirdnumber:this.formItem.thirdnumber,\n                  warrantytime:this.formItem.warrantytime,\n                  associated_orders:this.formItem.associated_orders,\n                  jwt:localStorage.getItem('jwt')\n                })\n              }).then(res => {\n                // console.log(res,'用户修改')\n                this.modal3=false\n                this.modal1=false\n                this.tableShow()\n              }).catch(res => {\n                this.$Message.error('请求超时,请稍后再试...');\n              });\n              callback();\n            } else{\n              this.loading = false;\n              this.$nextTick(() => {\n                this.loading = true;\n              });\n              this.$Message.error('修改失败,请正确填写信息!');\n            }\n          })\n        }else {\n          // console.log(this.cusname1)\n          this.$refs[formItem].validate((valid) => {\n            if (valid) {\n              this.$axios({\n                method: 'post',\n                url: 'admin/order/upd',\n                data: this.$qs.stringify({\n                  Id:this.formItem.Id,\n                  uid:this.usermoney,\n                  cid:this.cusname1,\n                  couponId:this.formItem.couponId,\n                  // specific:this.formItem.specific,\n                  programme:this.formItem.programme,\n                  province: this.cityListId,\n                  city: this.cityListId1,\n                  area:this.cityListId2,\n                  address:this.formItem.address,\n                  customer_service:this.formItem.customer_service,\n                  state:this.formItem.state,\n                  appointment_time:this.adddate + ' ' + this.addtime,\n                  eid:this.gusesionId,\n                  color:this.formItem.color1,\n                  userphone:this.formItem.userphone,\n                  customer_img:this.formItem.customer_img,\n                  type:this.formItem.type,\n                  payid:this.formItem.payid,\n                  paystate:this.formItem.paystate,\n                  roadfare:this.formItem.roadfare,\n                  thirdnumber:this.formItem.thirdnumber,\n                  warrantytime:this.formItem.warrantytime,\n                  associated_orders:this.formItem.associated_orders,\n                  jwt:localStorage.getItem('jwt')\n                })\n              }).then(res => {\n                // console.log(res,'用户修改')\n                this.modal3=false\n                this.modal1=false\n                this.tableShow()\n              }).catch(res => {\n                this.$Message.error('请求超时,请稍后再试...');\n              });\n              callback();\n            } else{\n              this.loading = false;\n              this.$nextTick(() => {\n                this.loading = true;\n              });\n              this.$Message.error('修改失败,请正确填写信息!');\n            }\n          })\n        }\n\n        this.tableShow()\n      },\n      cancel () {\n        this.modal3=false\n        this.tableShow()\n        // this.$Message.info('Clicked cancel');\n      },\n      // 修改上传图片\n      xiugaiimg(row){\n        // console.log(row)\n        this.modal2=true\n        // this.formImg=row\n        this.formImg.Id=row.Id\n      },\n      handleBeforUpload (file) {\n        // this.formImg.img = file;\n        this.file = file  // 将回调的文件信息存入data.file\n        return false\n      },\n      handleSuccess (response, file, fileList) {\n        if(response.code === 200){\n          this.modal2=false\n          this.tableShow()\n        }\n      },\n      //删除\n      delete(row){\n        // console.log(row)\n        this.$Modal.confirm({\n          title: '删除',\n          content: '确认删除该条信息吗？',\n          onOk: () => {\n            this.$axios({\n              method: 'post',\n              url: 'admin/order/delete',\n              data: this.$qs.stringify({\n                Id: row.Id,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              this.tableShow()\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n          },\n          onCancel: () => {\n            this.$Message.info('取消');\n          }\n        });\n      },\n      //分页\n      changepage (index) {\n        this.page = index\n        // console.log(this.page,'123')\n        this.tableShow()\n        var _start = (index - 1) * this.pageSize;\n        var _end = index * this.pageSize;\n        this.data1 = this.ajaxHistoryData.slice(_start, _end);\n      }\n    },\n    // mounted(){\n    //   console.log(window.location.href.split(\"?\")[1].split(\"=\")[1],'a参数')\n    //   console.log(localStorage.getItem('Id'),'a参数123132')\n    //   this.$axios({\n    //     method: 'post',\n    //     url: 'admin/order/show',\n    //     data: this.$qs.stringify({\n    //       uid:this.model13,\n    //       phone:this.searchPhone,\n    //       state:this.state4,\n    //       type:this.type4,\n    //       time:this.timeArry,\n    //       page:this.page,\n    //       Id:localStorage.getItem('Id'),//接收地图传值\n    //       jwt: localStorage.getItem('jwt')\n    //     })\n    //   }).then(res => {\n    //     // console.log(this.$route.query.Id,'获取id')\n    //     this.ajaxHistoryData = res.data.table;\n    //     this.list = res.data.table;\n    //     this.list1 = res.data.table;\n    //     this.options2 = res.data.table;\n    //     // console.log(res.data.table,'用户信息')\n    //     // console.log( this.list1,'用户信息2222')\n    //     this.dataCount = res.data.count;\n    //     // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n    //     if (res.data.count < this.pageSize) {\n    //       // this.historyData = this.ajaxHistoryData;\n    //       this.data1 = res.data.table\n    //     } else {\n    //       this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n    //     }\n    //   }).catch(res => {\n    //     this.$Message.error('请求超时,请稍后再试...');\n    //   });\n    // }\n  }\n</script>\n\n<style scoped>\n  .map {\n    width: 100%;\n    height: 400px;\n  }\n  .map1 {\n    clear: both;\n    width:500px;\n    height: 400px;\n  }\n  .xiahuaxian{\n    margin-bottom: 15px;\n    border: 0.5px solid darkgray;\n    width: 92%;\n    margin-left: 3%\n  }\n</style>\n"]}]}