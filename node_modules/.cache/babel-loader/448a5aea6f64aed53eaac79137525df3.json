{"remainingRequest":"/Users/szt/Desktop/维修后台/node_modules/babel-loader/lib/index.js!/Users/szt/Desktop/维修后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/szt/Desktop/维修后台/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/szt/Desktop/维修后台/src/view/jixing/jixing_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/szt/Desktop/维修后台/src/view/jixing/jixing_page.vue","mtime":1566895588000},{"path":"/Users/szt/Desktop/维修后台/.babelrc","mtime":1539597141000},{"path":"/Users/szt/Desktop/维修后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/维修后台/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/szt/Desktop/维修后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/维修后台/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      ruleValidate: {\n        laptop_name: [{\n          required: true,\n          message: '不能为空',\n          trigger: 'blur'\n        }],\n        series_name: [{\n          required: true,\n          message: '不能为空',\n          trigger: 'blur'\n        }],\n        juti_name: [{\n          required: true,\n          message: '不能为空',\n          trigger: 'blur'\n        }]\n      },\n      ruleValidate2: {\n        laptop_name: [{\n          required: true,\n          message: '不能为空',\n          trigger: 'blur'\n        }],\n        series_name: [{\n          required: true,\n          message: '不能为空',\n          trigger: 'blur'\n        }],\n        juti_name: [{\n          required: true,\n          message: '不能为空',\n          trigger: 'blur'\n        }]\n      },\n      juti_name: '',\n      jixing: [],\n      jixingId: '',\n      pinpai: [],\n      pinpai1: [],\n      pinpaiId: '',\n      // pinpaiId1:'',\n      laptop_name: '',\n      series_name: '',\n      formAdd: {\n        bid: '',\n        jixing: '',\n        name: '',\n        jwt: localStorage.getItem('jwt')\n      },\n      formItem: {\n        Id: '',\n        bid: '',\n        jixing: '',\n        name: '',\n        jwt: localStorage.getItem('jwt')\n      },\n      modal1: false,\n      modal2: false,\n      modal3: false,\n      loading: true,\n      loading1: true,\n      //    分页\n      ajaxHistoryData: [],\n      // 初始化信息总条数\n      dataCount: 0,\n      // 每页显示多少条\n      pageSize: 10,\n      page: 1,\n      columns1: [{\n        title: '机型大类',\n        key: 'category_name'\n      }, {\n        title: '品牌',\n        key: 'type_name'\n      }, {\n        title: '机型',\n        key: 'name' // width: 300\n\n      }, {\n        title: '操作',\n        key: 'action',\n        align: 'center',\n        render: function render(h, params) {\n          return h('div', [h('Button', {\n            props: {\n              type: 'info',\n              size: 'small'\n            },\n            style: {\n              marginRight: '5px',\n              marginBottom: '5px'\n            },\n            on: {\n              click: function click() {\n                _this.xiugai(params.row);\n              }\n            }\n          }, '修改'), h('Button', {\n            props: {\n              type: 'info',\n              size: 'small'\n            },\n            style: {\n              marginRight: '5px',\n              marginBottom: '5px'\n            },\n            attrs: {\n              style: 'background-color:#d6514d;border:1px solid #d6514d'\n            },\n            on: {\n              click: function click() {\n                _this.delete(params.row);\n              }\n            }\n          }, '删除')]);\n        }\n      }],\n      data1: [],\n      data2: [],\n      data3: []\n    };\n  },\n  created: function created() {\n    // console.log(localStorage.getItem('jwt'))\n    this.tableShow();\n    this.Lei();\n    this.pinpaishow();\n  },\n  methods: {\n    //用户信息展示\n    tableShow: function tableShow() {\n      var _this2 = this;\n\n      this.$axios({\n        method: 'post',\n        url: 'admin/Version/show',\n        data: this.$qs.stringify({\n          cid: this.jixingId,\n          bid: this.pinpaiId,\n          name: this.juti_name,\n          page: this.page,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(function (res) {\n        // console.log(res.data.table,'用户信息')\n        _this2.ajaxHistoryData = res.data.table;\n        _this2.dataCount = res.data.count; // console.log(this.dataCount,'用户信息000000')\n        // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n\n        if (res.data.count < _this2.pageSize) {\n          // this.historyData = this.ajaxHistoryData;\n          _this2.data1 = res.data.table;\n        } else {\n          _this2.data1 = _this2.ajaxHistoryData.slice(0, _this2.pageSize);\n        }\n      }).catch(function (res) {\n        _this2.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //搜索\n    chioce4: function chioce4(item) {\n      // console.log(item)\n      this.jixingId = item.Id; // console.log(this.jixingId)\n\n      this.pinpaishow();\n    },\n    chioce5: function chioce5(item) {\n      // console.log(item)\n      this.pinpaiId = item.Id;\n    },\n    handSeek: function handSeek() {\n      this.tableShow();\n    },\n    //机型大类\n    Lei: function Lei() {\n      var _this3 = this;\n\n      this.$axios({\n        method: 'post',\n        url: 'admin/Category/show',\n        data: this.$qs.stringify({\n          name: this.juti_name,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(function (res) {\n        // console.log(res)\n        _this3.jixing = res.data.table;\n        _this3.data2 = res.data.table;\n      }).catch(function (res) {\n        _this3.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //品牌\n    pinpaishow: function pinpaishow() {\n      var _this4 = this;\n\n      this.$axios({\n        method: 'post',\n        url: 'admin/Brand/show',\n        data: this.$qs.stringify({\n          name: this.juti_name,\n          cid: this.jixingId,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(function (res) {\n        // console.log(res.data.table,'用户信息111')\n        _this4.pinpai = res.data.table;\n        _this4.pinpai1 = res.data.table;\n        _this4.data3 = res.data.table;\n      }).catch(function (res) {\n        _this4.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //新增\n    add: function add() {\n      this.modal3 = true;\n      this.Lei();\n    },\n    chioce: function chioce(item) {\n      // console.log(item)\n      this.jixingId = item.Id; // console.log(this.jixingId)\n\n      this.pinpaishow();\n    },\n    chioce1: function chioce1(item) {\n      // console.log(item)\n      this.pinpaiId = item.Id;\n    },\n    ok3: function ok3(formAdd) {\n      var _this5 = this;\n\n      // console.log(this.$nextTick,'验证')\n      this.$refs[formAdd].validate(function (valid) {\n        if (valid) {\n          _this5.$axios({\n            method: 'post',\n            url: 'admin/Version/insert',\n            data: _this5.$qs.stringify({\n              bid: _this5.pinpaiId,\n              name: _this5.formAdd.name,\n              jwt: localStorage.getItem('jwt')\n            })\n          }).then(function (res) {\n            // console.log(res,'用户增加')\n            _this5.tableShow();\n\n            _this5.modal3 = false;\n            _this5.formAdd = {};\n          }).catch(function (res) {\n            _this5.modal3 = false;\n\n            _this5.$Message.error('请求超时,请稍后再试...');\n          });\n\n          callback();\n        } else {\n          _this5.loading = false;\n\n          _this5.$nextTick(function () {\n            _this5.loading = true;\n          });\n\n          _this5.$Message.error('新增失败，请填写完整的信息!');\n        }\n      });\n      this.tableShow();\n      this.formAdd = {};\n    },\n    cancel3: function cancel3() {\n      this.tableShow();\n      this.formAdd = {}; // this.$Message.info('Clicked cancel');\n    },\n    //用户修改\n    xiugai: function xiugai(row) {\n      // console.log(row)\n      this.modal1 = true;\n      this.formItem = row;\n      this.formItem.Id = row.Id;\n      this.Lei();\n    },\n    chioce2: function chioce2(item) {\n      // console.log(item)\n      // this.pinpaiId=item.Id\n      this.jixingId = item.Id;\n      this.pinpaishow();\n    },\n    chioce3: function chioce3(item) {\n      // console.log(item)\n      this.pinpaiId = item.Id;\n    },\n    ok: function ok(formItem) {\n      var _this6 = this;\n\n      this.$refs[formItem].validate(function (valid) {\n        if (valid) {\n          _this6.$axios({\n            method: 'post',\n            url: 'admin/Version/upd',\n            data: _this6.$qs.stringify({\n              Id: _this6.formItem.Id,\n              bid: _this6.pinpaiId,\n              name: _this6.formItem.name,\n              jwt: localStorage.getItem('jwt')\n            })\n          }).then(function (res) {\n            // console.log(res,'用户修改')\n            _this6.modal1 = false;\n\n            _this6.tableShow();\n          }).catch(function (res) {\n            _this6.$Message.error('请求超时,请稍后再试...');\n          });\n\n          callback();\n        } else {\n          _this6.loading = false;\n\n          _this6.$nextTick(function () {\n            _this6.loading = true;\n          });\n\n          _this6.$Message.error('修改失败,请正确填写信息!');\n        }\n      });\n      this.tableShow();\n    },\n    cancel: function cancel() {\n      this.modal3 = false; // this.$Message.info('Clicked cancel');\n    },\n    //删除\n    delete: function _delete(row) {\n      var _this7 = this;\n\n      // console.log(row)\n      this.$Modal.confirm({\n        title: '删除',\n        content: '确认删除该条信息吗？',\n        onOk: function onOk() {\n          _this7.$axios({\n            method: 'post',\n            url: 'admin/Version/delete',\n            data: _this7.$qs.stringify({\n              Id: row.Id,\n              jwt: localStorage.getItem('jwt')\n            })\n          }).then(function (res) {\n            _this7.tableShow();\n          }).catch(function (res) {\n            _this7.$Message.error('请求超时,请稍后再试...');\n          });\n        },\n        onCancel: function onCancel() {\n          _this7.$Message.info('取消');\n        }\n      });\n    },\n    //分页\n    changepage: function changepage(index) {\n      this.page = index;\n      this.tableShow();\n\n      var _start = (index - 1) * this.pageSize;\n\n      var _end = index * this.pageSize;\n\n      this.data1 = this.ajaxHistoryData.slice(_start, _end);\n    }\n  }\n};",{"version":3,"sources":["jixing_page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,eAAA;AACA,EAAA,IADA,kBACA;AAAA;;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AACA,QAAA,WAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,WAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAJA;AAQA,QAAA,SAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AARA,OADA;AAaA,MAAA,aAAA,EAAA;AACA,QAAA,WAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,WAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAJA;AAQA,QAAA,SAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AARA,OAbA;AAyBA,MAAA,SAAA,EAAA,EAzBA;AA0BA,MAAA,MAAA,EAAA,EA1BA;AA2BA,MAAA,QAAA,EAAA,EA3BA;AA4BA,MAAA,MAAA,EAAA,EA5BA;AA6BA,MAAA,OAAA,EAAA,EA7BA;AA8BA,MAAA,QAAA,EAAA,EA9BA;AA+BA;AACA,MAAA,WAAA,EAAA,EAhCA;AAiCA,MAAA,WAAA,EAAA,EAjCA;AAkCA,MAAA,OAAA,EAAA;AACA,QAAA,GAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AAJA,OAlCA;AAwCA,MAAA,QAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,GAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA,EAHA;AAIA,QAAA,IAAA,EAAA,EAJA;AAKA,QAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AALA,OAxCA;AA+CA,MAAA,MAAA,EAAA,KA/CA;AAgDA,MAAA,MAAA,EAAA,KAhDA;AAiDA,MAAA,MAAA,EAAA,KAjDA;AAkDA,MAAA,OAAA,EAAA,IAlDA;AAmDA,MAAA,QAAA,EAAA,IAnDA;AAoDA;AACA,MAAA,eAAA,EAAA,EArDA;AAsDA;AACA,MAAA,SAAA,EAAA,CAvDA;AAwDA;AACA,MAAA,QAAA,EAAA,EAzDA;AA0DA,MAAA,IAAA,EAAA,CA1DA;AA2DA,MAAA,QAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,GAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,GAAA,EAAA,MAFA,CAGA;;AAHA,OATA,EAcA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,GAAA,EAAA,QAFA;AAGA,QAAA,KAAA,EAAA,QAHA;AAIA,QAAA,MAAA,EAAA,gBAAA,CAAA,EAAA,MAAA,EAAA;AACA,iBAAA,CAAA,CAAA,KAAA,EAAA,CACA,CAAA,CAAA,QAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,IAAA,EAAA,MADA;AAEA,cAAA,IAAA,EAAA;AAFA,aADA;AAKA,YAAA,KAAA,EAAA;AACA,cAAA,WAAA,EAAA,KADA;AAEA,cAAA,YAAA,EAAA;AAFA,aALA;AASA,YAAA,EAAA,EAAA;AACA,cAAA,KAAA,EAAA,iBAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,GAAA;AACA;AAHA;AATA,WAAA,EAcA,IAdA,CADA,EAgBA,CAAA,CAAA,QAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,IAAA,EAAA,MADA;AAEA,cAAA,IAAA,EAAA;AAFA,aADA;AAKA,YAAA,KAAA,EAAA;AACA,cAAA,WAAA,EAAA,KADA;AAEA,cAAA,YAAA,EAAA;AAFA,aALA;AASA,YAAA,KAAA,EAAA;AACA,cAAA,KAAA,EAAA;AADA,aATA;AAYA,YAAA,EAAA,EAAA;AACA,cAAA,KAAA,EAAA,iBAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,GAAA;AACA;AAHA;AAZA,WAAA,EAiBA,IAjBA,CAhBA,CAAA,CAAA;AAmCA;AAxCA,OAdA,CA3DA;AAoHA,MAAA,KAAA,EAAA,EApHA;AAqHA,MAAA,KAAA,EAAA,EArHA;AAsHA,MAAA,KAAA,EAAA;AAtHA,KAAA;AAwHA,GA1HA;AA2HA,EAAA,OA3HA,qBA2HA;AACA;AACA,SAAA,SAAA;AACA,SAAA,GAAA;AACA,SAAA,UAAA;AACA,GAhIA;AAiIA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AAAA;;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,oBAFA;AAGA,QAAA,IAAA,EAAA,KAAA,GAAA,CAAA,SAAA,CAAA;AACA,UAAA,GAAA,EAAA,KAAA,QADA;AAEA,UAAA,GAAA,EAAA,KAAA,QAFA;AAGA,UAAA,IAAA,EAAA,KAAA,SAHA;AAIA,UAAA,IAAA,EAAA,KAAA,IAJA;AAKA,UAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AALA,SAAA;AAHA,OAAA,EAUA,IAVA,CAUA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,eAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAHA,CAIA;AACA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,KAAA,GAAA,MAAA,CAAA,QAAA,EAAA;AACA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,eAAA,CAAA,KAAA,CAAA,CAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AACA;AACA,OAtBA,EAsBA,KAtBA,CAsBA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,eAAA;AACA,OAxBA;AAyBA,KA5BA;AA6BA;AACA,IAAA,OA9BA,mBA8BA,IA9BA,EA8BA;AACA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,EAAA,CAFA,CAGA;;AACA,WAAA,UAAA;AACA,KAnCA;AAoCA,IAAA,OApCA,mBAoCA,IApCA,EAoCA;AACA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,EAAA;AACA,KAvCA;AAwCA,IAAA,QAxCA,sBAwCA;AACA,WAAA,SAAA;AACA,KA1CA;AA2CA;AACA,IAAA,GA5CA,iBA4CA;AAAA;;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,qBAFA;AAGA,QAAA,IAAA,EAAA,KAAA,GAAA,CAAA,SAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,SADA;AAEA,UAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AAFA,SAAA;AAHA,OAAA,EAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAXA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,eAAA;AACA,OAbA;AAcA,KA3DA;AA4DA;AACA,IAAA,UA7DA,wBA6DA;AAAA;;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,kBAFA;AAGA,QAAA,IAAA,EAAA,KAAA,GAAA,CAAA,SAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,SADA;AAEA,UAAA,GAAA,EAAA,KAAA,QAFA;AAGA,UAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AAHA,SAAA;AAHA,OAAA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAbA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,eAAA;AACA,OAfA;AAgBA,KA9EA;AA+EA;AACA,IAAA,GAhFA,iBAgFA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,GAAA;AACA,KAnFA;AAoFA,IAAA,MApFA,kBAoFA,IApFA,EAoFA;AACA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,EAAA,CAFA,CAGA;;AACA,WAAA,UAAA;AACA,KAzFA;AA0FA,IAAA,OA1FA,mBA0FA,IA1FA,EA0FA;AACA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,EAAA;AACA,KA7FA;AA8FA,IAAA,GA9FA,eA8FA,OA9FA,EA8FA;AAAA;;AACA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA;AACA,YAAA,MAAA,EAAA,MADA;AAEA,YAAA,GAAA,EAAA,sBAFA;AAGA,YAAA,IAAA,EAAA,MAAA,CAAA,GAAA,CAAA,SAAA,CAAA;AACA,cAAA,GAAA,EAAA,MAAA,CAAA,QADA;AAEA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA,CAAA,IAFA;AAGA,cAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AAHA,aAAA;AAHA,WAAA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,MAAA,CAAA,SAAA;;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AACA,YAAA,MAAA,CAAA,OAAA,GAAA,EAAA;AACA,WAbA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,KAAA;;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,eAAA;AACA,WAhBA;;AAiBA,UAAA,QAAA;AACA,SAnBA,MAmBA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,WAFA;;AAGA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,gBAAA;AACA;AACA,OA3BA;AA4BA,WAAA,SAAA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,KA9HA;AA+HA,IAAA,OA/HA,qBA+HA;AACA,WAAA,SAAA;AACA,WAAA,OAAA,GAAA,EAAA,CAFA,CAGA;AACA,KAnIA;AAoIA;AACA,IAAA,MArIA,kBAqIA,GArIA,EAqIA;AACA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,WAAA,QAAA,CAAA,EAAA,GAAA,GAAA,CAAA,EAAA;AACA,WAAA,GAAA;AACA,KA3IA;AA4IA,IAAA,OA5IA,mBA4IA,IA5IA,EA4IA;AACA;AACA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,EAAA;AACA,WAAA,UAAA;AACA,KAjJA;AAkJA,IAAA,OAlJA,mBAkJA,IAlJA,EAkJA;AACA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,EAAA;AACA,KArJA;AAsJA,IAAA,EAtJA,cAsJA,QAtJA,EAsJA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA;AACA,YAAA,MAAA,EAAA,MADA;AAEA,YAAA,GAAA,EAAA,mBAFA;AAGA,YAAA,IAAA,EAAA,MAAA,CAAA,GAAA,CAAA,SAAA,CAAA;AACA,cAAA,EAAA,EAAA,MAAA,CAAA,QAAA,CAAA,EADA;AAEA,cAAA,GAAA,EAAA,MAAA,CAAA,QAFA;AAGA,cAAA,IAAA,EAAA,MAAA,CAAA,QAAA,CAAA,IAHA;AAIA,cAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AAJA,aAAA;AAHA,WAAA,EASA,IATA,CASA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,KAAA;;AACA,YAAA,MAAA,CAAA,SAAA;AACA,WAbA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,eAAA;AACA,WAfA;;AAgBA,UAAA,QAAA;AACA,SAlBA,MAkBA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,WAFA;;AAGA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,eAAA;AACA;AACA,OA1BA;AA2BA,WAAA,SAAA;AACA,KAnLA;AAoLA,IAAA,MApLA,oBAoLA;AACA,WAAA,MAAA,GAAA,KAAA,CADA,CAEA;AACA,KAvLA;AAwLA;AACA,IAAA,MAzLA,mBAyLA,GAzLA,EAyLA;AAAA;;AACA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA,YAFA;AAGA,QAAA,IAAA,EAAA,gBAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA;AACA,YAAA,MAAA,EAAA,MADA;AAEA,YAAA,GAAA,EAAA,sBAFA;AAGA,YAAA,IAAA,EAAA,MAAA,CAAA,GAAA,CAAA,SAAA,CAAA;AACA,cAAA,EAAA,EAAA,GAAA,CAAA,EADA;AAEA,cAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,KAAA;AAFA,aAAA;AAHA,WAAA,EAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,SAAA;AACA,WATA,EASA,KATA,CASA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,eAAA;AACA,WAXA;AAYA,SAhBA;AAiBA,QAAA,QAAA,EAAA,oBAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA;AAnBA,OAAA;AAqBA,KAhNA;AAiNA;AACA,IAAA,UAlNA,sBAkNA,KAlNA,EAkNA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,SAAA;;AACA,UAAA,MAAA,GAAA,CAAA,KAAA,GAAA,CAAA,IAAA,KAAA,QAAA;;AACA,UAAA,IAAA,GAAA,KAAA,GAAA,KAAA,QAAA;;AACA,WAAA,KAAA,GAAA,KAAA,eAAA,CAAA,KAAA,CAAA,MAAA,EAAA,IAAA,CAAA;AACA;AAxNA;AAjIA,CAAA","sourcesContent":["<template>\n  <div>\n    <Button style=\"margin-right: 6px;float: left\" type=\"info\" @click=\"add\">新增</Button>\n    <!--搜索-->\n    <div style=\"float: left\">\n      <!--<Form :model=\"data2\" :label-width=\"10\">-->\n      <!--<FormItem label=\"\" prop=\"provinceid\">-->\n      <Select style=\"width:200px;margin-right: 3px\" placeholder=\"请选择机型大类键字搜索\">\n        <Option v-for=\"item in data2\" :value=\"item.name\" :key=\"item.Id\" @click.native=\"chioce4(item)\" style=\"width: 80px\">{{ item.name }}</Option>\n      </Select>\n      <Select style=\"width:200px;margin-right: 3px\" placeholder=\"请选择品牌键字搜索\">\n        <Option v-for=\"item in data3\" :value=\"item.name\" :key=\"item.Id\" @click.native=\"chioce5(item)\" style=\"width: 80px\">{{ item.name }}</Option>\n      </Select>\n      <!--</FormItem>-->\n      <!--</Form>-->\n    </div>\n    <!--<Input clearable placeholder=\"请输入设备关键字搜索\" class=\"search-input\" v-model=\"juti_name\" style=\"width: 200px\"/>-->\n    <!--<Input clearable placeholder=\"请输入品牌关键字搜索\" class=\"search-input\" v-model=\"laptop_name\" style=\"width: 200px\"/>-->\n    <Input clearable placeholder=\"请输入关键字搜索\" class=\"search-input\" v-model=\"juti_name\" style=\"width: 200px;margin-right: 3px\"/>\n\n    <Button type=\"info\" @click=\"handSeek\">搜索</Button>\n    <Table :columns=\"columns1\" :data=\"data1\" style=\"margin-top: 10px\"></Table>\n    <!--新增-->\n    <Modal\n      v-model=\"modal3\"\n      title=\"新增机型信息\"\n      @on-ok=\"ok3('formAdd')\"\n      @on-cancel=\"cancel3\"\n      :loading=\"loading\">\n      <Form :model=\"formAdd\" :label-width=\"80\" :rules=\"ruleValidate\" ref=\"formAdd\">\n        <FormItem label=\"机型大类\" prop=\"jixing\">\n          <Select v-model=\"formAdd.jixing\" style=\"width:200px\">\n            <Option v-for=\"item in jixing\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce(item)\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"品牌\" prop=\"bid\">\n          <Select v-model=\"formAdd.bid\" style=\"width:200px\">\n            <Option v-for=\"item in pinpai\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce1(item)\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"机型\" prop=\"name\">\n          <Input v-model=\"formAdd.name\" placeholder=\"\" style=\"width:200px\"></Input>\n        </FormItem>\n      </Form>\n    </Modal>\n    <!--//修改弹框-->\n    <!--<Button type=\"primary\" @click=\"modal1 = true\">修改</Button>-->\n    <Modal\n      v-model=\"modal1\"\n      title=\"修改机型信息\"\n      @on-ok=\"ok('formItem')\"\n      @on-cancel=\"cancel\"\n      :loading=\"loading1\">\n      <Form :model=\"formItem\" :label-width=\"80\" :rules=\"ruleValidate2\" ref=\"formItem\">\n        <FormItem label=\"机型大类\" prop=\"jixing\">\n          <Select v-model=\"formItem.jixing\" style=\"width:200px\">\n            <Option v-for=\"item in jixing\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce2(item)\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"品牌\" prop=\"bid\">\n          <Select v-model=\"formItem.bid\" style=\"width:200px\">\n            <Option v-for=\"item in pinpai1\" :value=\"item.name\" :key=\"item.id\" @click.native=\"chioce3(item)\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"机型\" prop=\"name\">\n          <Input v-model=\"formItem.name\" placeholder=\"\" style=\"width:200px\"></Input>\n        </FormItem>\n      </Form>\n    </Modal>\n    <!--//分页-->\n    <div style=\"text-align: right\">\n      <Page :total=\"dataCount\" :page-size=\"pageSize\" show-total class=\"paging\" @on-change=\"changepage\"></Page>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        ruleValidate: {\n          laptop_name: [\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          series_name: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n            // {type: 'number',required:true,validator:validatePhone,message:'请输入正确的手机号',trigger:'change'}\n          ],\n          juti_name: [\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ]\n        },\n        ruleValidate2: {\n          laptop_name: [\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ],\n          series_name: [\n            { required: true, message: '不能为空', trigger: 'blur' },\n            // {type: 'number',required:true,validator:validatePhone,message:'请输入正确的手机号',trigger:'change'}\n          ],\n          juti_name: [\n            { required: true, message: '不能为空', trigger: 'blur' }\n          ]\n        },\n        juti_name:'',\n        jixing:[],\n        jixingId:'',\n        pinpai:[],\n        pinpai1:[],\n        pinpaiId:'',\n        // pinpaiId1:'',\n        laptop_name:'',\n        series_name:'',\n        formAdd:{\n          bid:'',\n          jixing:'',\n          name: '',\n          jwt:localStorage.getItem('jwt')\n        },\n        formItem:{\n          Id:'',\n          bid:'',\n          jixing:'',\n          name: '',\n          jwt:localStorage.getItem('jwt')\n        },\n        modal1: false,\n        modal2: false,\n        modal3:false,\n        loading: true,\n        loading1: true,\n        //    分页\n        ajaxHistoryData: [],\n        // 初始化信息总条数\n        dataCount: 0,\n        // 每页显示多少条\n        pageSize: 10,\n        page:1,\n        columns1: [\n          {\n            title: '机型大类',\n            key: 'category_name'\n          },\n          {\n            title: '品牌',\n            key: 'type_name'\n          },\n          {\n            title: '机型',\n            key: 'name',\n            // width: 300\n          },\n          {\n            title: '操作',\n            key: 'action',\n            align: 'center',\n            render: (h, params) => {\n              return h('div', [\n                h('Button', {\n                  props: {\n                    type: 'info',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                    marginBottom: '5px'\n                  },\n                  on: {\n                    click: () => {\n                      this.xiugai(params.row);\n                    }\n                  }\n                }, '修改'),\n                h('Button', {\n                  props: {\n                    type: 'info',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                    marginBottom: '5px'\n                  },\n                  attrs: {\n                    style: 'background-color:#d6514d;border:1px solid #d6514d'\n                  },\n                  on: {\n                    click: () => {\n                      this.delete(params.row);\n                    }\n                  }\n                }, '删除')\n              ]);\n            }\n          }\n        ],\n        data1: [],\n        data2: [],\n        data3: []\n      }\n    },\n    created() {\n      // console.log(localStorage.getItem('jwt'))\n      this.tableShow()\n      this.Lei()\n      this.pinpaishow()\n    },\n    methods: {\n      //用户信息展示\n      tableShow(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/Version/show',\n          data: this.$qs.stringify({\n            cid:this.jixingId,\n            bid:this.pinpaiId,\n            name:this.juti_name,\n            page:this.page,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n          this.ajaxHistoryData = res.data.table;\n          this.dataCount = res.data.count;\n          // console.log(this.dataCount,'用户信息000000')\n          // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n          if (res.data.count < this.pageSize) {\n            // this.historyData = this.ajaxHistoryData;\n            this.data1 = res.data.table\n          } else {\n            this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //搜索\n      chioce4(item){\n        // console.log(item)\n        this.jixingId=item.Id\n        // console.log(this.jixingId)\n        this.pinpaishow()\n      },\n      chioce5(item){\n        // console.log(item)\n        this.pinpaiId=item.Id\n      },\n      handSeek(){\n        this.tableShow()\n      },\n      //机型大类\n      Lei(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/Category/show',\n          data: this.$qs.stringify({\n            name:this.juti_name,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n            // console.log(res)\n          this.jixing = res.data.table\n          this.data2 = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //品牌\n      pinpaishow(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/Brand/show',\n          data: this.$qs.stringify({\n            name:this.juti_name,\n            cid:this.jixingId,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息111')\n          this.pinpai=res.data.table\n          this.pinpai1=res.data.table\n          this.data3=res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //新增\n      add(){\n        this.modal3=true\n        this.Lei()\n      },\n      chioce(item){\n        // console.log(item)\n        this.jixingId=item.Id\n        // console.log(this.jixingId)\n        this.pinpaishow()\n      },\n      chioce1(item){\n        // console.log(item)\n        this.pinpaiId=item.Id\n      },\n      ok3 (formAdd) {\n        // console.log(this.$nextTick,'验证')\n        this.$refs[formAdd].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              method: 'post',\n              url: 'admin/Version/insert',\n              data: this.$qs.stringify({\n                bid:this.pinpaiId,\n                name: this.formAdd.name,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'用户增加')\n              this.tableShow()\n              this.modal3 = false\n              this.formAdd = {}\n            }).catch(res => {\n              this.modal3=false\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            callback();\n          } else{\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n            this.$Message.error('新增失败，请填写完整的信息!');\n          }\n        })\n        this.tableShow()\n        this.formAdd = {}\n      },\n      cancel3 () {\n        this.tableShow()\n        this.formAdd = {}\n        // this.$Message.info('Clicked cancel');\n      },\n      //用户修改\n      xiugai(row){\n        // console.log(row)\n        this.modal1=true\n        this.formItem=row\n        this.formItem.Id=row.Id\n        this.Lei()\n      },\n      chioce2(item){\n        // console.log(item)\n        // this.pinpaiId=item.Id\n        this.jixingId=item.Id\n        this.pinpaishow()\n      },\n      chioce3(item){\n        // console.log(item)\n        this.pinpaiId=item.Id\n      },\n      ok (formItem) {\n        this.$refs[formItem].validate((valid) => {\n          if (valid) {\n            this.$axios({\n              method: 'post',\n              url: 'admin/Version/upd',\n              data: this.$qs.stringify({\n                Id:this.formItem.Id,\n                bid:this.pinpaiId,\n                name: this.formItem.name,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              // console.log(res,'用户修改')\n              this.modal1=false\n              this.tableShow()\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n            callback();\n          } else{\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n            this.$Message.error('修改失败,请正确填写信息!');\n          }\n        })\n        this.tableShow()\n      },\n      cancel () {\n        this.modal3=false\n        // this.$Message.info('Clicked cancel');\n      },\n      //删除\n      delete(row){\n        // console.log(row)\n        this.$Modal.confirm({\n          title: '删除',\n          content: '确认删除该条信息吗？',\n          onOk: () => {\n            this.$axios({\n              method: 'post',\n              url: 'admin/Version/delete',\n              data: this.$qs.stringify({\n                Id: row.Id,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              this.tableShow()\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n          },\n          onCancel: () => {\n            this.$Message.info('取消');\n          }\n        });\n      },\n      //分页\n      changepage (index) {\n        this.page = index\n        this.tableShow()\n        var _start = (index - 1) * this.pageSize;\n        var _end = index * this.pageSize;\n        this.data1 = this.ajaxHistoryData.slice(_start, _end);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/view/jixing"}]}