{"remainingRequest":"/Users/szt/Desktop/iview-admin/node_modules/babel-loader/lib/index.js!/Users/szt/Desktop/iview-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/szt/Desktop/iview-admin/src/components/paste-editor/plugins/placeholder.js","dependencies":[{"path":"/Users/szt/Desktop/iview-admin/src/components/paste-editor/plugins/placeholder.js","mtime":1539597142000},{"path":"/Users/szt/Desktop/iview-admin/.babelrc","mtime":1539597141000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nexport default (function (codemirror) {\n  (function (mod) {\n    mod(codemirror);\n  })(function (CodeMirror) {\n    CodeMirror.defineOption('placeholder', '', function (cm, val, old) {\n      var prev = old && old !== CodeMirror.Init;\n\n      if (val && !prev) {\n        cm.on('blur', onBlur);\n        cm.on('change', onChange);\n        cm.on('swapDoc', onChange);\n        onChange(cm);\n      } else if (!val && prev) {\n        cm.off('blur', onBlur);\n        cm.off('change', onChange);\n        cm.off('swapDoc', onChange);\n        clearPlaceholder(cm);\n        var wrapper = cm.getWrapperElement();\n        wrapper.className = wrapper.className.replace(' CodeMirror-empty', '');\n      }\n\n      if (val && !cm.hasFocus()) onBlur(cm);\n    });\n\n    function clearPlaceholder(cm) {\n      if (cm.state.placeholder) {\n        cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n        cm.state.placeholder = null;\n      }\n    }\n\n    function setPlaceholder(cm) {\n      clearPlaceholder(cm);\n      var elt = cm.state.placeholder = document.createElement('pre');\n      elt.style.cssText = 'height: 0; overflow: visible; color: #80848f;';\n      elt.style.direction = cm.getOption('direction');\n      elt.className = 'CodeMirror-placeholder';\n      var placeHolder = cm.getOption('placeholder');\n      if (typeof placeHolder === 'string') placeHolder = document.createTextNode(placeHolder);\n      elt.appendChild(placeHolder);\n      cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n    }\n\n    function onBlur(cm) {\n      if (isEmpty(cm)) setPlaceholder(cm);\n    }\n\n    function onChange(cm) {\n      var wrapper = cm.getWrapperElement();\n      var empty = isEmpty(cm);\n      wrapper.className = wrapper.className.replace(' CodeMirror-empty', '') + (empty ? ' CodeMirror-empty' : '');\n      if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n    }\n\n    function isEmpty(cm) {\n      return cm.lineCount() === 1 && cm.getLine(0) === '';\n    }\n  });\n});",{"version":3,"sources":["src/components/paste-editor/plugins/placeholder.js"],"names":["codemirror","mod","CodeMirror","defineOption","cm","val","old","prev","Init","on","onBlur","onChange","off","clearPlaceholder","wrapper","getWrapperElement","className","replace","hasFocus","state","placeholder","parentNode","removeChild","setPlaceholder","elt","document","createElement","style","cssText","direction","getOption","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","isEmpty","empty","lineCount","getLine"],"mappings":"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","sourceRoot":"/Users/szt/Desktop/iview-admin","sourcesContent":["export default (codemirror) => {\n  (function (mod) {\n    mod(codemirror)\n  })(function (CodeMirror) {\n    CodeMirror.defineOption('placeholder', '', function (cm, val, old) {\n      var prev = old && old !== CodeMirror.Init\n      if (val && !prev) {\n        cm.on('blur', onBlur)\n        cm.on('change', onChange)\n        cm.on('swapDoc', onChange)\n        onChange(cm)\n      } else if (!val && prev) {\n        cm.off('blur', onBlur)\n        cm.off('change', onChange)\n        cm.off('swapDoc', onChange)\n        clearPlaceholder(cm)\n        var wrapper = cm.getWrapperElement()\n        wrapper.className = wrapper.className.replace(' CodeMirror-empty', '')\n      }\n\n      if (val && !cm.hasFocus()) onBlur(cm)\n    })\n\n    function clearPlaceholder (cm) {\n      if (cm.state.placeholder) {\n        cm.state.placeholder.parentNode.removeChild(cm.state.placeholder)\n        cm.state.placeholder = null\n      }\n    }\n    function setPlaceholder (cm) {\n      clearPlaceholder(cm)\n      var elt = cm.state.placeholder = document.createElement('pre')\n      elt.style.cssText = 'height: 0; overflow: visible; color: #80848f;'\n      elt.style.direction = cm.getOption('direction')\n      elt.className = 'CodeMirror-placeholder'\n      var placeHolder = cm.getOption('placeholder')\n      if (typeof placeHolder === 'string') placeHolder = document.createTextNode(placeHolder)\n      elt.appendChild(placeHolder)\n      cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild)\n    }\n\n    function onBlur (cm) {\n      if (isEmpty(cm)) setPlaceholder(cm)\n    }\n    function onChange (cm) {\n      let wrapper = cm.getWrapperElement()\n      let empty = isEmpty(cm)\n      wrapper.className = wrapper.className.replace(' CodeMirror-empty', '') + (empty ? ' CodeMirror-empty' : '')\n\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }\n\n    function isEmpty (cm) {\n      return (cm.lineCount() === 1) && (cm.getLine(0) === '')\n    }\n  })\n}\n"]}]}