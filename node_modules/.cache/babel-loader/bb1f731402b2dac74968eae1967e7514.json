{"remainingRequest":"/Users/szt/Desktop/维修后台/node_modules/babel-loader/lib/index.js!/Users/szt/Desktop/维修后台/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/szt/Desktop/维修后台/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/szt/Desktop/维修后台/src/view/money/money_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/szt/Desktop/维修后台/src/view/money/money_page.vue","mtime":1566895966000},{"path":"/Users/szt/Desktop/维修后台/.babelrc","mtime":1539597141000},{"path":"/Users/szt/Desktop/维修后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/维修后台/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/szt/Desktop/维修后台/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/维修后台/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      searchValue: '',\n      modal1: false,\n      modal2: false,\n      modal3: false,\n      //    分页\n      ajaxHistoryData: [],\n      // 初始化信息总条数\n      dataCount: 0,\n      // 每页显示多少条\n      pageSize: 10,\n      page: 1,\n      columns1: [{\n        title: '达人名称',\n        key: 'username'\n      }, {\n        title: '手机号',\n        key: 'phone'\n      }, {\n        title: '优惠券名称',\n        key: 'name' // width: 150\n\n      }, {\n        title: '优惠券码',\n        key: 'code' // width: 120\n\n      }, {\n        title: '金额',\n        key: 'price'\n      }, {\n        title: '创建时间',\n        key: 'time'\n      }, {\n        title: '开始时间',\n        key: 'startime'\n      }, {\n        title: '截止日期',\n        key: 'outtime'\n      }, {\n        title: '使用状态',\n        key: 'state',\n        render: function render(h, params) {\n          return h('Tag', {\n            props: {\n              color: params.row.state === 1 ? 'green' : params.row.state === 2 ? 'orange' : ''\n            }\n          }, params.row.state === 1 ? '未使用' : params.row.state === 2 ? '使用' : '');\n        }\n      }, {\n        title: '操作',\n        key: 'action',\n        align: 'center',\n        render: function render(h, params) {\n          return h('div', [h('Button', {\n            props: {\n              type: 'info',\n              size: 'small'\n            },\n            style: {\n              marginRight: '5px',\n              marginBottom: '3px'\n            },\n            attrs: {\n              style: 'background-color:#d6514d;border:1px solid #d6514d'\n            },\n            on: {\n              click: function click() {\n                _this.delete(params.row);\n              }\n            }\n          }, '删除')]);\n        }\n      }],\n      data1: []\n    };\n  },\n  created: function created() {\n    // console.log(localStorage.getItem('jwt'))\n    this.tableShow();\n  },\n  methods: {\n    //用户信息展示\n    tableShow: function tableShow() {\n      var _this2 = this;\n\n      this.$axios({\n        method: 'post',\n        url: 'admin/Coupon/conponlist',\n        data: this.$qs.stringify({\n          page: this.page,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(function (res) {\n        // console.log(res.data.table,'用户信息')\n        _this2.ajaxHistoryData = res.data.table; // this.dataCount = res.data.table.length;\n\n        _this2.dataCount = res.data.count; // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n\n        if (res.data.count < _this2.pageSize) {\n          // this.historyData = this.ajaxHistoryData;\n          _this2.data1 = res.data.table;\n        } else {\n          _this2.data1 = _this2.ajaxHistoryData.slice(0, _this2.pageSize);\n        }\n      }).catch(function (res) {\n        _this2.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //搜索\n    handSeek: function handSeek() {\n      var _this3 = this;\n\n      // this.tableShow()\n      this.$axios({\n        method: 'post',\n        url: 'admin/user/show',\n        data: this.$qs.stringify({\n          name: this.searchValue,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(function (res) {\n        // console.log(res,'搜索用户')\n        _this3.data2 = res.data.table;\n      }).catch(function (res) {\n        _this3.$Message.error('请求超时,请稍后再试...');\n      });\n    },\n    //删除\n    delete: function _delete(row) {\n      var _this4 = this;\n\n      // console.log(row)\n      this.$Modal.confirm({\n        title: '删除',\n        content: '确认删除该条信息吗？',\n        onOk: function onOk() {\n          _this4.$axios({\n            method: 'post',\n            url: 'admin/Coupon/conpondelete',\n            data: _this4.$qs.stringify({\n              Id: row.Id,\n              jwt: localStorage.getItem('jwt')\n            })\n          }).then(function (res) {\n            _this4.tableShow();\n          }).catch(function (res) {\n            _this4.$Message.error('请求超时,请稍后再试...');\n          });\n        },\n        onCancel: function onCancel() {\n          _this4.$Message.info('取消');\n        }\n      });\n    },\n    //分页\n    changepage: function changepage(index) {\n      this.page = index;\n      this.tableShow();\n\n      var _start = (index - 1) * this.pageSize;\n\n      var _end = index * this.pageSize;\n\n      this.data1 = this.ajaxHistoryData.slice(_start, _end);\n    }\n  }\n};",{"version":3,"sources":["money_page.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <Input clearable placeholder=\"请输入优惠券码关键字搜索\" class=\"search-input\" v-model=\"searchValue\" style=\"width: 400px;margin-right: 3px\"/>\n    <Button type=\"info\" @click=\"handSeek\">搜索</Button>\n    <Table :columns=\"columns1\" :data=\"data1\" style=\"margin-top: 10px\"></Table>\n    <!--//分页-->\n    <div style=\"text-align: right\">\n      <Page :total=\"dataCount\" :page-size=\"pageSize\" show-total class=\"paging\" @on-change=\"changepage\"></Page>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        searchValue:'',\n        modal1: false,\n        modal2: false,\n        modal3:false,\n        //    分页\n        ajaxHistoryData: [],\n        // 初始化信息总条数\n        dataCount: 0,\n        // 每页显示多少条\n        pageSize: 10,\n        page:1,\n        columns1: [\n          {\n            title: '达人名称',\n            key: 'username'\n          },\n          {\n            title: '手机号',\n            key: 'phone'\n          },\n          {\n            title: '优惠券名称',\n            key: 'name',\n            // width: 150\n          },\n          {\n            title: '优惠券码',\n            key: 'code',\n            // width: 120\n          },\n          {\n            title: '金额',\n            key: 'price'\n          },\n          {\n            title: '创建时间',\n            key: 'time'\n          },\n          {\n            title: '开始时间',\n            key: 'startime'\n          },\n          {\n            title: '截止日期',\n            key: 'outtime'\n          },\n          {\n            title: '使用状态',\n            key: 'state',\n            render: (h, params) => {\n              return h('Tag', {\n                props: {\n                  color: params.row.state === 1 ? 'green' : params.row.state === 2 ? 'orange' : ''\n                }\n              }, params.row.state === 1 ? '未使用' : params.row.state === 2 ? '使用' : '');\n            }\n          },\n          {\n            title: '操作',\n            key: 'action',\n            align: 'center',\n            render: (h, params) => {\n              return h('div', [\n                h('Button', {\n                  props: {\n                    type: 'info',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                    marginBottom: '3px'\n                  },\n                  attrs: {\n                    style: 'background-color:#d6514d;border:1px solid #d6514d'\n                  },\n                  on: {\n                    click: () => {\n                      this.delete(params.row);\n                    }\n                  }\n                }, '删除')\n              ]);\n            }\n          }\n        ],\n        data1: []\n      }\n    },\n    created() {\n      // console.log(localStorage.getItem('jwt'))\n      this.tableShow()\n    },\n    methods: {\n      //用户信息展示\n      tableShow(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/Coupon/conponlist',\n          data: this.$qs.stringify({\n            page:this.page,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table,'用户信息')\n          this.ajaxHistoryData = res.data.table;\n          // this.dataCount = res.data.table.length;\n          this.dataCount = res.data.count;\n          // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示\n          if (res.data.count < this.pageSize) {\n            // this.historyData = this.ajaxHistoryData;\n            this.data1 = res.data.table\n          } else {\n            this.data1 = this.ajaxHistoryData.slice(0, this.pageSize);\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //搜索\n      handSeek(){\n        // this.tableShow()\n        this.$axios({\n          method: 'post',\n          url: 'admin/user/show',\n          data: this.$qs.stringify({\n            name:this.searchValue,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res,'搜索用户')\n          this.data2 = res.data.table\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      //删除\n      delete(row){\n        // console.log(row)\n        this.$Modal.confirm({\n          title: '删除',\n          content: '确认删除该条信息吗？',\n          onOk: () => {\n            this.$axios({\n              method: 'post',\n              url: 'admin/Coupon/conpondelete',\n              data: this.$qs.stringify({\n                Id: row.Id,\n                jwt:localStorage.getItem('jwt')\n              })\n            }).then(res => {\n              this.tableShow()\n            }).catch(res => {\n              this.$Message.error('请求超时,请稍后再试...');\n            });\n          },\n          onCancel: () => {\n            this.$Message.info('取消');\n          }\n        });\n      },\n      //分页\n      changepage (index) {\n        this.page = index\n        this.tableShow()\n        var _start = (index - 1) * this.pageSize;\n        var _end = index * this.pageSize;\n        this.data1 = this.ajaxHistoryData.slice(_start, _end);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/view/money"}]}