{"remainingRequest":"/Users/szt/Desktop/iview-admin/node_modules/babel-loader/lib/index.js!/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/szt/Desktop/iview-admin/src/view/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/szt/Desktop/iview-admin/src/view/login/login.vue","mtime":1561524253000},{"path":"/Users/szt/Desktop/iview-admin/.babelrc","mtime":1539597141000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Cookies from 'js-cookie';\nexport default {\n  data: function data() {\n    return {\n      form: {\n        userName: '',\n        password: ''\n      },\n      rules: {\n        userName: [{\n          required: true,\n          message: '账号不能为空',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '密码不能为空',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n\n      console.log('点击');\n      this.$axios({\n        method: 'post',\n        url: 'index/index/checkLogin',\n        data: this.$qs.stringify({\n          username: this.form.userName,\n          password: this.form.password\n        })\n      }).then(function (res) {\n        console.log(res, '000');\n\n        if (res.data.code === 200) {\n          Cookies.set('username', _this.form.userName);\n          Cookies.set('password', _this.form.password);\n\n          if (_this.form.userName === 'iview_admin') {\n            Cookies.set('access', 0);\n          } else {\n            Cookies.set('access', 1);\n          }\n\n          _this.$router.push({\n            name: 'p_management'\n          }); // location.href = '/p_management'\n          // this.$router.push({\n          //   name: this.$config.homeName\n          // });\n\n        }\n      }).catch(function (res) {\n        _this.$Message.error('请求超时,请稍后再试...');\n      });\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,OAAA,OAAA,MAAA,WAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAJA;AALA,KAAA;AAcA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,wBAFA;AAGA,QAAA,IAAA,EAAA,KAAA,GAAA,CAAA,SAAA,CAAA;AACA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA,QADA;AAEA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAFA,SAAA;AAHA,OAAA,EAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,KAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,IAAA,CAAA,QAAA;;AACA,cAAA,KAAA,CAAA,IAAA,CAAA,QAAA,KAAA,aAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,CAAA;AACA,WAFA,MAEA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,CAAA;AACA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA;AADA,WAAA,EARA,CAWA;AACA;AACA;AACA;;AACA;AACA,OAzBA,EAyBA,KAzBA,CAyBA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,eAAA;AACA,OA3BA;AA4BA;AA/BA;AAjBA,CAAA","sourcesContent":["<style lang=\"less\">\n  @import './login.less';\n</style>\n\n<template>\n  <div class=\"login\" @keydown.enter=\"handleSubmit\">\n    <div class=\"login-con\">\n      <Card :bordered=\"false\">\n        <p slot=\"title\">\n          <Icon type=\"log-in\"></Icon>\n          欢迎登录\n        </p>\n        <div class=\"form-con\">\n          <Form ref=\"loginForm\" :model=\"form\" :rules=\"rules\">\n            <FormItem prop=\"userName\">\n              <Input v-model=\"form.userName\" placeholder=\"请输入用户名\">\n              <span slot=\"prepend\">\n                <Icon :size=\"16\" type=\"person\"></Icon>\n              </span>\n              </Input>\n            </FormItem>\n            <FormItem prop=\"password\">\n              <Input type=\"password\" v-model=\"form.password\" placeholder=\"请输入密码\">\n              <span slot=\"prepend\">\n                <Icon :size=\"14\" type=\"locked\"></Icon>\n              </span>\n              </Input>\n            </FormItem>\n            <FormItem>\n              <Button @click=\"handleSubmit\" type=\"primary\" long>登录</Button>\n            </FormItem>\n          </Form>\n          <!--<p class=\"login-tip\">输入任意用户名和密码即可</p>-->\n        </div>\n      </Card>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Cookies from 'js-cookie';\n  export default {\n    data () {\n      return {\n        form: {\n          userName: '',\n          password: ''\n        },\n        rules: {\n          userName: [\n            { required: true, message: '账号不能为空', trigger: 'blur' }\n          ],\n          password: [\n            { required: true, message: '密码不能为空', trigger: 'blur' }\n          ]\n        }\n      };\n    },\n    methods: {\n      handleSubmit () {\n        console.log('点击')\n        this.$axios({\n          method: 'post',\n          url: 'index/index/checkLogin',\n          data: this.$qs.stringify({\n            username: this.form.userName,\n            password: this.form.password\n          })\n        }).then(res => {\n          console.log(res,'000')\n          if(res.data.code === 200){\n            Cookies.set('username', this.form.userName);\n            Cookies.set('password', this.form.password);\n            if (this.form.userName === 'iview_admin') {\n              Cookies.set('access', 0);\n            } else {\n              Cookies.set('access', 1);\n            }\n            this.$router.push({\n              name: 'p_management'\n            });\n            // location.href = '/p_management'\n            // this.$router.push({\n            //   name: this.$config.homeName\n            // });\n          }\n        }).catch(res => {\n          this.$Message.error('请求超时,请稍后再试...');\n        });\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src/view/login"}]}