{"remainingRequest":"/Users/szt/Desktop/iview-admin/node_modules/thread-loader/dist/cjs.js!/Users/szt/Desktop/iview-admin/node_modules/babel-loader/lib/index.js!/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/szt/Desktop/iview-admin/src/view/map/mapPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/szt/Desktop/iview-admin/src/view/map/mapPage.vue","mtime":1566981439000},{"path":"/Users/szt/Desktop/iview-admin/.babelrc","mtime":1539597141000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/szt/Desktop/iview-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  // components: { VDistpicker },\n  data: function data() {\n    var _this = this;\n\n    return {\n      zoom: 14,\n      center: [121.6292529148, 31.2035397816],\n      mapArry: [],\n      Wposition: [121.91949, 30.88303],\n      mapArrylength: '',\n      a: '',\n      Wcontent: '123',\n      modal4: [],\n      mapindex: 0,\n      position: [],\n      currentWindow: {\n        position: [121.6292529148, 31.2035397816],\n        content: '浦东新区',\n        events: {\n          click: function click(a, b, c) {\n            // console.log(a.target.Uh.vid)\n            _this.mapindex = a.target.Uh.vid;\n            _this.modal4[_this.mapindex] = !_this.modal4[_this.mapindex];\n            console.log(_this.modal4[_this.mapindex]);\n            console.log(_this.mapindex); // this.$router.push({\n            //   path:'/o_management',\n            //   query:{\n            //     Id:this.mapArry[a.target.Uh.vid].Id\n            //   }\n            // })\n          }\n        }\n      },\n      infos: {\n        events: {\n          // open () {\n          //   this.modal4[this.mapindex] = !this.modal4[this.mapindex]\n          //   console.log('true1')\n          //   console.log('11111111')\n          // },\n          close: function close() {\n            this.modal4[this.mapindex] = false;\n            console.log(this.modal4[this.mapindex], '信息窗体');\n            console.log(this.mapindex);\n          }\n        }\n      }\n    };\n  },\n  created: function created() {\n    this.tableShow(); // this.mounted()\n  },\n  methods: {\n    // manage(){\n    //   this.modal4[this.mapindex] = !this.modal4[this.mapindex]\n    //   console.log(\"信息窗体\"+this.modal4[this.mapindex])\n    // },\n    //用户信息展示\n    tableShow: function tableShow() {\n      var _this2 = this;\n\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/marker',\n        data: this.$qs.stringify({\n          // time:this.model13,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(function (res) {\n        // console.log(res.data.table)\n        _this2.mapArry = res.data.table; // var i = res.data.table.length\n\n        for (var i = 0; i < res.data.table.length; i++) {\n          _this2.modal4.push(JSON.parse('false'));\n        }\n      }).catch(function (res) {// this.$Message.error('请求超时,请稍后再试...');\n      });\n    }\n  },\n  mounted: function mounted() {\n    // console.log('1112223')\n    // console.log(location.search,'123')\n    this.$axios({\n      method: 'post',\n      url: 'admin/order/marker',\n      data: this.$qs.stringify({\n        // time:this.model13,\n        jwt: localStorage.getItem('jwt')\n      })\n    }).then(function (res) {\n      // console.log(res.data.table)\n      var map = new AMap.Map(\"container\", {\n        resizeEnable: true // zoom: 16,\n        // center:new AMap.LngLat(121.6292529148,31.2035397816)\n\n      });\n      var lnglats = [];\n\n      for (var j = 0; j < res.data.table.length; j++) {\n        lnglats[j] = res.data.table[j].position;\n      } // console.log(lnglats,'总坐标点')\n\n\n      var infoWindow = new AMap.InfoWindow({\n        offset: new AMap.Pixel(0, -20)\n      }); // console.log(lnglats,'irutjreklgjdf')\n\n      for (var i = 0, marker; i < res.data.table.length; i++) {\n        var marker = new AMap.Marker({\n          position: lnglats[i],\n          map: map\n        });\n        localStorage.setItem('Id', res.data.table[i].Id);\n        marker.content = '<strong>客户名称:</strong>' + res.data.table[i].customername + '<br>' + '<strong>客户手机号：</strong>' + res.data.table[i].userphone + '<br>' + '<strong>地址：</strong>' + res.data.table[i].orderadress + '<br>' + '<strong>达人名称：</strong>' + res.data.table[i].username + '<br>' + '<a href=\"http://www.maintance.pro/admin/#/o_management?Id=' + res.data.table[i].Id + '\">查看详情</a>';\n        marker.on('click', markerClick);\n        marker.emit('click', {\n          target: marker\n        });\n      }\n\n      function markerClick(e) {\n        infoWindow.setContent(e.target.content);\n        infoWindow.open(map, e.target.getPosition());\n      }\n\n      map.setFitView();\n      map.setZoom(10);\n      map.setZoomAndCenter(12, [121.6292529148, 31.2035397816]); // map.setCenter(121.6292529148,31.2035397816)\n      // console.log(window.location.href.split(\"?\")[1].split(\"=\")[1],'a参数')\n    }).catch(function (res) {// this.$Message.error('请求超时,请稍后再试...');\n    });\n  }\n};",{"version":3,"sources":["mapPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div id=\"container\">\n      <!--<el-amap vid=\"amapDemo\" class=\"amap\" :zoom=\"zoom\">-->\n        <!--&lt;!&ndash;:title=\"item.orderadress\"&ndash;&gt;-->\n        <!--<el-amap-marker v-for=\"(item,index) in mapArry\" :position=\"item.position\" :events=\"currentWindow.events\" :vid=\"index\">-->\n        <!--&lt;!&ndash;<el-amap-marker :position=\"position\" :events=\"currentWindow.events\" :vid=\"mapArrylength\">&ndash;&gt;-->\n\n        <!--</el-amap-marker>-->\n        <!--<el-amap-info-window-->\n          <!--:position=\"Wposition\"-->\n          <!--:content=\"Wcontent\"-->\n          <!--:visible=\"modal4[mapindex]\"-->\n          <!--:events=\"infos.events\">-->\n        <!--</el-amap-info-window>-->\n        <!--&lt;!&ndash;\"content.orderadress\"&ndash;&gt;-->\n      <!--</el-amap>-->\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    // components: { VDistpicker },\n    data () {\n      return {\n        zoom:14,\n        center:[121.6292529148,31.2035397816],\n        mapArry:[],\n        Wposition:[121.91949, 30.88303],\n        mapArrylength:'',\n        a:'',\n        Wcontent:'123',\n        modal4:[],\n        mapindex:0,\n        position:[],\n        currentWindow: {\n          position: [121.6292529148,31.2035397816],\n          content: '浦东新区',\n          events: {\n            click: (a,b,c) => {\n              // console.log(a.target.Uh.vid)\n              this.mapindex = a.target.Uh.vid\n              this.modal4[this.mapindex] = !this.modal4[this.mapindex]\n\n              console.log(this.modal4[this.mapindex])\n              console.log( this.mapindex )\n              // this.$router.push({\n              //   path:'/o_management',\n              //   query:{\n              //     Id:this.mapArry[a.target.Uh.vid].Id\n              //   }\n              // })\n            },\n          },\n        },\n        infos: {\n          events: {\n            // open () {\n            //   this.modal4[this.mapindex] = !this.modal4[this.mapindex]\n            //   console.log('true1')\n            //   console.log('11111111')\n            // },\n            close() {\n              this.modal4[this.mapindex] = false\n              console.log(this.modal4[this.mapindex],'信息窗体')\n              console.log(this.mapindex)\n            }\n          }\n        },\n      }\n    },\n    created() {\n      this.tableShow()\n      // this.mounted()\n    },\n    methods: {\n      // manage(){\n      //   this.modal4[this.mapindex] = !this.modal4[this.mapindex]\n      //   console.log(\"信息窗体\"+this.modal4[this.mapindex])\n      // },\n      //用户信息展示\n      tableShow(){\n        this.$axios({\n          method: 'post',\n          url: 'admin/order/marker',\n          data: this.$qs.stringify({\n            // time:this.model13,\n            jwt: localStorage.getItem('jwt')\n          })\n        }).then(res => {\n          // console.log(res.data.table)\n          this.mapArry = res.data.table\n          // var i = res.data.table.length\n          for(var i = 0; i < res.data.table.length;i ++){\n            this.modal4.push(JSON.parse('false'))\n          }\n        }).catch(res => {\n          // this.$Message.error('请求超时,请稍后再试...');\n        });\n      },\n      // tiaozhuan(){\n      //   this.$router.push({\n      //     path:'/o_management',\n      //     query:{\n      //       Id:res.data.table[i].Id\n      //     }\n      //   })\n      // }\n    },\n    mounted(){\n      // console.log('1112223')\n      // console.log(location.search,'123')\n      this.$axios({\n        method: 'post',\n        url: 'admin/order/marker',\n        data: this.$qs.stringify({\n          // time:this.model13,\n          jwt: localStorage.getItem('jwt')\n        })\n      }).then(res => {\n        // console.log(res.data.table)\n        var map = new AMap.Map(\"container\", {\n          resizeEnable: true,\n          // zoom: 16,\n          // center:new AMap.LngLat(121.6292529148,31.2035397816)\n        });\n\n        var lnglats = [];\n        for (var j = 0; j < res.data.table.length; j++){\n          lnglats[j] = res.data.table[j].position\n        }\n        // console.log(lnglats,'总坐标点')\n        var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -20)});\n        // console.log(lnglats,'irutjreklgjdf')\n        for (var i = 0, marker; i < res.data.table.length; i++) {\n          var marker = new AMap.Marker({\n            position: lnglats[i],\n            map: map\n          });\n\n          localStorage.setItem('Id', res.data.table[i].Id)\n\n          marker.content = '<strong>客户名称:</strong>' + res.data.table[i].customername + '<br>' +\n                            '<strong>客户手机号：</strong>' + res.data.table[i].userphone + '<br>' +\n                            '<strong>地址：</strong>' + res.data.table[i].orderadress + '<br>' +\n                            '<strong>达人名称：</strong>' + res.data.table[i].username + '<br>' +\n                            '<a href=\"http://www.maintance.pro/admin/#/o_management?Id='+\n                            res.data.table[i].Id+\n                            '\">查看详情</a>' ;\n\n          marker.on('click', markerClick);\n          marker.emit('click', {target: marker});\n        }\n\n        function markerClick(e) {\n          infoWindow.setContent(e.target.content);\n          infoWindow.open(map, e.target.getPosition());\n        }\n        map.setFitView();\n        map.setZoom(10);\n        map.setZoomAndCenter(12, [121.6292529148, 31.2035397816]);\n        // map.setCenter(121.6292529148,31.2035397816)\n        // console.log(window.location.href.split(\"?\")[1].split(\"=\")[1],'a参数')\n      }).catch(res => {\n        // this.$Message.error('请求超时,请稍后再试...');\n      });\n\n    }\n  }\n</script>\n\n<style>\n  #container {\n    width: 100%;\n    height: 600px;\n  }\n\n</style>\n"],"sourceRoot":"src/view/map"}]}